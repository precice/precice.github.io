<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.14.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>preCICE: precice::mapping::impl::MappingDataCache Struct Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="additional.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="logo.svg"/></td>
  <td id="projectalign">
   <div id="projectname">preCICE<span id="projectnumber">&#160;ac22cbf</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.14.0 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search/",'.html');
</script>
<script type="text/javascript">
$(function() { codefold.init(); });
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search',false);
  $(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a href="namespaceprecice.html">precice</a></li><li class="navelem"><a href="namespaceprecice_1_1mapping.html">mapping</a></li><li class="navelem"><a href="namespaceprecice_1_1mapping_1_1impl.html">impl</a></li><li class="navelem"><a href="structprecice_1_1mapping_1_1impl_1_1MappingDataCache.html">MappingDataCache</a></li>  </ul>
</div>
</div><!-- top -->
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="structprecice_1_1mapping_1_1impl_1_1MappingDataCache-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">precice::mapping::impl::MappingDataCache Struct Reference</div></div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="MappingDataCache_8hpp_source.html">MappingDataCache.hpp</a>&gt;</code></p>
<div class="dynheader">
Collaboration diagram for precice::mapping::impl::MappingDataCache:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" loading="lazy" frameborder="0" src="structprecice_1_1mapping_1_1impl_1_1MappingDataCache__coll__graph.svg" width="430" height="278"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-pub-methods" class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:aa47aa854894b39dba21c02be4e90e7bc" id="r_aa47aa854894b39dba21c02be4e90e7bc"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa47aa854894b39dba21c02be4e90e7bc">MappingDataCache</a> (int dataDim)</td></tr>
<tr class="memdesc:aa47aa854894b39dba21c02be4e90e7bc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor.  <br /></td></tr>
<tr class="memitem:a5b9d814637cdda2261f4187e97e2878b" id="r_a5b9d814637cdda2261f4187e97e2878b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a5b9d814637cdda2261f4187e97e2878b">getDataDimensions</a> () const</td></tr>
<tr class="memdesc:a5b9d814637cdda2261f4187e97e2878b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the number of data components.  <br /></td></tr>
<tr class="memitem:a0cffde42a0b8c994cb2cdac3d8685a40" id="r_a0cffde42a0b8c994cb2cdac3d8685a40"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0cffde42a0b8c994cb2cdac3d8685a40">hasDataAtTimeStamp</a> (double time) const</td></tr>
<tr class="memdesc:a0cffde42a0b8c994cb2cdac3d8685a40"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check, if the current data vector (in <code class="param">inData</code> or the std::vectors) hold data of time <code class="param">time</code>.  <br /></td></tr>
<tr class="memitem:a2ff52ecbc99d5e6c36e9c944893c45bc" id="r_a2ff52ecbc99d5e6c36e9c944893c45bc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2ff52ecbc99d5e6c36e9c944893c45bc">setTimeStamp</a> (double time)</td></tr>
<tr class="memdesc:a2ff52ecbc99d5e6c36e9c944893c45bc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the timestamp of the <a class="el" href="structprecice_1_1mapping_1_1impl_1_1MappingDataCache.html">MappingDataCache</a> to the specified time.  <br /></td></tr>
<tr class="memitem:af05c288f6a2b6b159ca10c7ab709d56b" id="r_af05c288f6a2b6b159ca10c7ab709d56b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af05c288f6a2b6b159ca10c7ab709d56b">resetTimeStamp</a> ()</td></tr>
<tr class="memdesc:af05c288f6a2b6b159ca10c7ab709d56b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reset the time stamp associated with the data.  <br /></td></tr>
<tr class="memitem:ab985bd2bdd612cccbed2a4fb4036ecfd" id="r_ab985bd2bdd612cccbed2a4fb4036ecfd"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab985bd2bdd612cccbed2a4fb4036ecfd">resetData</a> ()</td></tr>
<tr class="memdesc:ab985bd2bdd612cccbed2a4fb4036ecfd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reset all data containers to zero.  <br /></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-pub-attribs" class="groupheader"><a id="pub-attribs" name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a34297844f3a4c512badff85247a07986" id="r_a34297844f3a4c512badff85247a07986"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structprecice_1_1time_1_1Stample.html">time::Stample</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a34297844f3a4c512badff85247a07986">inData</a></td></tr>
<tr class="memitem:a0f1dc27ecebd8d75bcf6aea865f40799" id="r_a0f1dc27ecebd8d75bcf6aea865f40799"><td class="memItemLeft" align="right" valign="top"><a class="elRef" href="http://en.cppreference.com/w/cpp/container/vector.html">std::vector</a>&lt; Eigen::MatrixXd &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0f1dc27ecebd8d75bcf6aea865f40799">polynomialContributions</a></td></tr>
<tr class="memitem:a24ca3435a11bcbd8f1e5b015f65ba1ad" id="r_a24ca3435a11bcbd8f1e5b015f65ba1ad"><td class="memItemLeft" align="right" valign="top"><a class="elRef" href="http://en.cppreference.com/w/cpp/container/vector.html">std::vector</a>&lt; Eigen::MatrixXd &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a24ca3435a11bcbd8f1e5b015f65ba1ad">p</a></td></tr>
</table>
<a name="details" id="details"></a><h2 id="header-details" class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Struct to store temporary data structures tied to a specific Mapping-Data pair. The usual implementations from '<a class="el" href="classprecice_1_1mapping_1_1Mapping.html" title="Abstract base class for mapping of data from one mesh to another.">Mapping</a>' have no notion about the data they are operating on. One mapping might even be responsible for multiple read or write data, which are sequentially processed one after another in the ParticipantImpl.</p>
<p>The Cache here was added in the context of just-in-time data mappings. Fundamentally, a just-in-time mapping can also be responsible for multiple read and write data. However, the just-in-time mapping was specifically designed for particle-mesh coupling, where a particle solver provides coordinates just-in-time for the mapping. If now each particle solver calls a just-in-time read or write data call, then we would need to perform the full time interpolation and mapping evaluation for each API function call. The cache here allows to store temporary data we can reuse across multiple just-in-time API calls to preserve computational efficiency. In the most basic configuration scenarios (NN mapping), the cache simply holds the latest time interpolant to prevent repeated time interpolation for each function call. For more advanced mappings (PUM), the mapping stores intermediate basis-function coefficients of the resulting from the last time interpolant. The cache data always holds time-specific data for all data sites.</p>
<p>Note that the <a class="el" href="structprecice_1_1mapping_1_1impl_1_1MappingDataCache.html">MappingDataCache</a> mostly provides the memory and data structures. All data structures are filled within the configured mapping class. Particularly relevant are</p><ul>
<li><a class="el" href="classprecice_1_1mapping_1_1Mapping.html#a15b6c8b2af77462ca091d6ba4efc644e" title="Allocates memory and sets up the data structures inside the MappingDataCache.">Mapping::initializeMappingDataCache</a> (allocates memory and resizes data)</li>
<li><a class="el" href="classprecice_1_1mapping_1_1Mapping.html#a5b68216bfa03ceddbfc1252d7b12ab97" title="Allows updating a so-called MappingDataCache for more efficient just-in-time mappings.">Mapping::updateMappingDataCache</a> (updates the cache data to a new time sample)</li>
<li><a class="el" href="classprecice_1_1mapping_1_1Mapping.html#a3c2a6a7ae4ba4749bbe2c6c32df13b6d" title="Completes a just-in-time mapping for conservative constraints.">Mapping::completeJustInTimeMapping</a> (for conservative mappings: processes the buffered data)</li>
<li><a class="el" href="classprecice_1_1mapping_1_1Mapping.html#a5131ce09fbf0dba06cac5d9ec02febf8" title="Just-in-time mapping variant of mapConsistent.">Mapping::mapConsistentAt</a> (uses the cache to map consistent)</li>
<li><a class="el" href="classprecice_1_1mapping_1_1Mapping.html#a8d7828aa5620757be951186c18a7c17e" title="Just-in-time mapping variant of mapConservative.">Mapping::mapConservativeAt</a> (uses the cache to buffer conservative data) To associate the data the cache holds to a specific timestamp, the cache also stores in such a timestamp. </li>
</ul>

<p class="definition">Definition at line <a class="el" href="MappingDataCache_8hpp_source.html#l00044">44</a> of file <a class="el" href="MappingDataCache_8hpp_source.html">MappingDataCache.hpp</a>.</p>
</div><a name="doc-constructors" id="doc-constructors"></a><h2 id="header-doc-constructors" class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="aa47aa854894b39dba21c02be4e90e7bc" name="aa47aa854894b39dba21c02be4e90e7bc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa47aa854894b39dba21c02be4e90e7bc">&#9670;&#160;</a></span>MappingDataCache()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">precice::mapping::impl::MappingDataCache::MappingDataCache </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>dataDim</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span><span class="mlabel explicit">explicit</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Constructor. </p>

<p class="definition">Definition at line <a class="el" href="MappingDataCache_8hpp_source.html#l00084">84</a> of file <a class="el" href="MappingDataCache_8hpp_source.html">MappingDataCache.hpp</a>.</p>

</div>
</div>
<a name="doc-func-members" id="doc-func-members"></a><h2 id="header-doc-func-members" class="groupheader">Member Function Documentation</h2>
<a id="a5b9d814637cdda2261f4187e97e2878b" name="a5b9d814637cdda2261f4187e97e2878b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5b9d814637cdda2261f4187e97e2878b">&#9670;&#160;</a></span>getDataDimensions()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int precice::mapping::impl::MappingDataCache::getDataDimensions </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the number of data components. </p>

<p class="definition">Definition at line <a class="el" href="MappingDataCache_8hpp_source.html#l00089">89</a> of file <a class="el" href="MappingDataCache_8hpp_source.html">MappingDataCache.hpp</a>.</p>

</div>
</div>
<a id="a0cffde42a0b8c994cb2cdac3d8685a40" name="a0cffde42a0b8c994cb2cdac3d8685a40"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0cffde42a0b8c994cb2cdac3d8685a40">&#9670;&#160;</a></span>hasDataAtTimeStamp()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool precice::mapping::impl::MappingDataCache::hasDataAtTimeStamp </td>
          <td>(</td>
          <td class="paramtype">double</td>          <td class="paramname"><span class="paramname"><em>time</em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Check, if the current data vector (in <code class="param">inData</code> or the std::vectors) hold data of time <code class="param">time</code>. </p>

<p class="definition">Definition at line <a class="el" href="MappingDataCache_8hpp_source.html#l00094">94</a> of file <a class="el" href="MappingDataCache_8hpp_source.html">MappingDataCache.hpp</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" loading="lazy" frameborder="0" src="structprecice_1_1mapping_1_1impl_1_1MappingDataCache_a0cffde42a0b8c994cb2cdac3d8685a40_cgraph.svg" width="455" height="66"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="ab985bd2bdd612cccbed2a4fb4036ecfd" name="ab985bd2bdd612cccbed2a4fb4036ecfd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab985bd2bdd612cccbed2a4fb4036ecfd">&#9670;&#160;</a></span>resetData()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void precice::mapping::impl::MappingDataCache::resetData </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Reset all data containers to zero. </p>

<p class="definition">Definition at line <a class="el" href="MappingDataCache_8hpp_source.html#l00110">110</a> of file <a class="el" href="MappingDataCache_8hpp_source.html">MappingDataCache.hpp</a>.</p>

</div>
</div>
<a id="af05c288f6a2b6b159ca10c7ab709d56b" name="af05c288f6a2b6b159ca10c7ab709d56b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af05c288f6a2b6b159ca10c7ab709d56b">&#9670;&#160;</a></span>resetTimeStamp()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void precice::mapping::impl::MappingDataCache::resetTimeStamp </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Reset the time stamp associated with the data. </p>

<p class="definition">Definition at line <a class="el" href="MappingDataCache_8hpp_source.html#l00104">104</a> of file <a class="el" href="MappingDataCache_8hpp_source.html">MappingDataCache.hpp</a>.</p>

</div>
</div>
<a id="a2ff52ecbc99d5e6c36e9c944893c45bc" name="a2ff52ecbc99d5e6c36e9c944893c45bc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2ff52ecbc99d5e6c36e9c944893c45bc">&#9670;&#160;</a></span>setTimeStamp()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void precice::mapping::impl::MappingDataCache::setTimeStamp </td>
          <td>(</td>
          <td class="paramtype">double</td>          <td class="paramname"><span class="paramname"><em>time</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Set the timestamp of the <a class="el" href="structprecice_1_1mapping_1_1impl_1_1MappingDataCache.html">MappingDataCache</a> to the specified time. </p>

<p class="definition">Definition at line <a class="el" href="MappingDataCache_8hpp_source.html#l00099">99</a> of file <a class="el" href="MappingDataCache_8hpp_source.html">MappingDataCache.hpp</a>.</p>

</div>
</div>
<a name="doc-variable-members" id="doc-variable-members"></a><h2 id="header-doc-variable-members" class="groupheader">Member Data Documentation</h2>
<a id="a34297844f3a4c512badff85247a07986" name="a34297844f3a4c512badff85247a07986"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a34297844f3a4c512badff85247a07986">&#9670;&#160;</a></span>inData</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structprecice_1_1time_1_1Stample.html">time::Stample</a> precice::mapping::impl::MappingDataCache::inData</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="MappingDataCache_8hpp_source.html#l00052">52</a> of file <a class="el" href="MappingDataCache_8hpp_source.html">MappingDataCache.hpp</a>.</p>

</div>
</div>
<a id="a24ca3435a11bcbd8f1e5b015f65ba1ad" name="a24ca3435a11bcbd8f1e5b015f65ba1ad"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a24ca3435a11bcbd8f1e5b015f65ba1ad">&#9670;&#160;</a></span>p</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="elRef" href="http://en.cppreference.com/w/cpp/container/vector.html">std::vector</a>&lt;Eigen::MatrixXd&gt; precice::mapping::impl::MappingDataCache::p</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="MappingDataCache_8hpp_source.html#l00065">65</a> of file <a class="el" href="MappingDataCache_8hpp_source.html">MappingDataCache.hpp</a>.</p>

</div>
</div>
<a id="a0f1dc27ecebd8d75bcf6aea865f40799" name="a0f1dc27ecebd8d75bcf6aea865f40799"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0f1dc27ecebd8d75bcf6aea865f40799">&#9670;&#160;</a></span>polynomialContributions</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="elRef" href="http://en.cppreference.com/w/cpp/container/vector.html">std::vector</a>&lt;Eigen::MatrixXd&gt; precice::mapping::impl::MappingDataCache::polynomialContributions</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="MappingDataCache_8hpp_source.html#l00062">62</a> of file <a class="el" href="MappingDataCache_8hpp_source.html">MappingDataCache.hpp</a>.</p>

</div>
</div>
<hr/>The documentation for this struct was generated from the following file:<ul>
<li>src/mapping/impl/<a class="el" href="MappingDataCache_8hpp_source.html">MappingDataCache.hpp</a></li>
</ul>
</div><!-- contents -->

