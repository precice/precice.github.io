<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">

  <meta name="description" content="This tutorial is an example case for ASTE, where we investigate different preCICE mappings using ASTE.">

<meta name="keywords" content=" ASTE, mapping, data mapping, mapping configuration, turbine">
<meta name="theme-color" content="#0A76BB">
<meta name="msapplication-square310x310logo" content="images/icon-310x310.png">

<title>ASTE (artificial solver testing environment) wind turbine blade tutorial | preCICE - The Coupling Library</title>
<link rel="alternate" type="application/rss+xml" title="" href="https://precice.org/feed.xml">

<link rel="shortcut icon" href="images/favicon.ico">
<link rel="stylesheet" href="css/syntax.css">
<link rel="icon" sizes="192x192" href="images/icon.png">
<link rel="apple-touch-icon" sizes="310x310" href="images/icon-310x310.png">

<!-- Font Awesome -->
<link rel="stylesheet" href="//use.fontawesome.com/releases/v5.14.0/css/all.css" integrity="sha384-HzLeBuhoNPvSl5KYnjx0BT+WB0QEEqLprO+NBkkk5gbc67FTaL7XIGa2w1L0Xbgc" crossorigin="anonymous">

<!-- Bootstrap -->
<!-- <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous"> -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@3.3.7/dist/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">

<!-- Local CSS -->
<link rel="stylesheet" href="css/modern-business.css">
<link rel="stylesheet" href="css/customstyles.css">
<link rel="stylesheet" href="css/customstyles-precice.css">
<link rel="stylesheet" href="css/boxshadowproperties.css">
<link rel="stylesheet" href="css/bookcover.css">
<!-- Color styles -->
<link rel="stylesheet" href="css/theme-precice.css">
<!-- Styling for landing page -->


<!-- Jquery, Ajax -->
<script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/jquery.cookie@1.4.1/jquery.cookie.min.js"></script>

<!-- Anchor.js -->
<script src="https://cdn.jsdelivr.net/npm/anchor-js@4.2.0/anchor.min.js" integrity="sha256-m1eTvwEHwmsw4+XKF7BshClVJEPwTVycveNl0CS0Mkk=" crossorigin="anonymous"></script>

<!-- Bootstrap JavaScript (requires jquery) -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@3.3.7/dist/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Local JS -->
<script src="js/jquery.navgoco.min.js"></script>
<script src="js/toc.js"></script>
<script src="js/customscripts.js"></script>

<!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
<script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
<![endif]-->

<!-- KaTeX -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css" integrity="sha384-AfEj0r4/OFrOo5t7NnNe46zW/tFgW6x/bCJG8FqQCEo3+Aro6EYUG4+cU+KJWu/X" crossorigin="anonymous">
<!-- The loading of KaTeX is deferred to speed up page rendering -->
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.js" integrity="sha384-g7c+Jr9ZivxKLnZTDUhnkOnsh30B4H0rpLUpJ4jAIKs4fnJI+sEnkvrMWph2EDg4" crossorigin="anonymous"></script>
<!-- To automatically render math in text elements, include the auto-render extension: -->
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/contrib/auto-render.min.js" integrity="sha384-mll67QQFJfxn0IYznZYonOWZ644AWYC+Pt2cHqMaRhXVrursRwvLnLaebdGIlYNa" crossorigin="anonymous"
    onload="renderMathInElement(document.body);"></script>

<!-- Algolia search -->
<script src="https://cdn.jsdelivr.net/npm/instantsearch.js@2.6.0/dist/instantsearch.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/moment@2.20.1/moment.min.js"></script>
<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/instantsearch.js@2.6.0/dist/instantsearch.min.css">
<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/instantsearch.js@2.6.0/dist/instantsearch-theme-algolia.min.css">

<!-- QR code to retrieve printed page -->
<style>
@media print {
    div.post-header:before {
    	content: url('https://chart.googleapis.com/chart?cht=qr&chs=100x100&chl=https://precice.org/tutorials-aste-turbine.html&choe=UTF-8');
        margin-top: -25px;
        float: right;
    }
}
</style>

<!-- Plausible Analytics -->
<script async defer data-domain="precice.org" src="https://plausible.io/js/plausible.js"></script>

    <script>
        $(document).ready(function() {
            // Initialize navgoco with default options
            $("#mysidebar").navgoco({
                caretHtml: '',
                accordion: true,
                openClass: 'active', // open
                save: false, // leave false or nav highlighting doesn't work right
                cookie: {
                    name: 'navgoco',
                    expires: false,
                    path: '/'
                },
                slide: {
                    duration: 400,
                    easing: 'swing'
                }
            });

            $("#collapseAll").click(function(e) {
                e.preventDefault();
                $("#mysidebar").navgoco('toggle', false);
            });

            $("#expandAll").click(function(e) {
                e.preventDefault();
                $("#mysidebar").navgoco('toggle', true);
            });

        });

    </script>
    <script>
        $(function () {
            $('[data-toggle="tooltip"]').tooltip()
        })
    </script>
    <script>
        $(document).ready(function() {
            $("#tg-sb-link").click(function() {
                $("#tg-sb-sidebar").toggle();
                $("#tg-sb-content").toggleClass('col-md-9');
                $("#tg-sb-content").toggleClass('col-md-12');
                $("#tg-sb-icon").toggleClass('fa-toggle-on');
                $("#tg-sb-icon").toggleClass('fa-toggle-off');
            });
        });
    </script>
    <script>
        // wrap tables into a div to make them scrollable on small viewports
        // https://getbootstrap.com/docs/3.4/css/#tables-responsive
        $(document).ready(function() {
            $('table').addClass('table');
            $('table').wrap('<div class="table-responsive"></div>');
        });
    </script>
    
</head>
<body>
    <header>
        <!-- Navigation -->
<nav class="navbar navbar-inverse navbar-fixed-top">
    <div class="container topnavlinks">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="index.html">
            <span class="navbar-brand-icon">
            <img class="navbar-brand-text" src="images/preCICE_text_28px.svg" alt="preCICE"></span>
            </a>
        </div>
        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
            <ul class="nav navbar-nav navbar-right">
                <!-- toggle sidebar button -->
                
                <!-- entries without drop-downs appear here -->

                
                

                
                
                
                
                
                <li><a href="quickstart.html">Quickstart</a></li>
                
                
                
                
                
                <li><a href="docs.html">Docs</a></li>
                
                
                
                
                
                <li class="active"><a href="tutorials.html">Tutorials</a></li>
                
                
                
                
                
                <li><a href="community.html">Community</a></li>
                
                
                
                
                
                <li><a href="https://precice.discourse.group/c/news" target="_blank" rel="noopener">Blog</a></li>
                
                
                
                
                
                <li><a href="about.html">About</a></li>
                
                
                
                <!-- entries with drop-downs appear here -->
                <!-- conditional logic to control which topnav appears for the audience defined in the configuration file.-->
                

                
                <!--comment out this block if you want to hide search-->
                <li>
                    <!--start search-->
                    <div id="search-demo-container">
                        <div id="search-input"></div>
                        <div id="search-results"></div>
                        <script>
const algoliaSearch = instantsearch({
  appId: 'I5M4FAJYBH',
  apiKey: 'd6f8d2f113bc342ee3f42421d0153bad',
  indexName: 'jekyll',
  searchFunction: function(helper) {          // hide search result in init query
    var searchResults = $('#search-results');
    if (helper.state.query === '') {
      searchResults.hide();
      return;
    }
    helper.search();
    searchResults.show();
  }
});

const hitTemplate = function(hit) {
  let date = '';
  if (hit.date) {
    date = moment.unix(hit.date).format('MMM D, YYYY');
  }

  let url = `${hit.url}#${hit.anchor}`;

  const title = hit._highlightResult.title.value;

  let breadcrumbs = '';
  if (hit._highlightResult.headings) {
    breadcrumbs = hit._highlightResult.headings.map(match => {
      return `<span class="result-breadcrumb">${match.value}</span>`
    }).join(' > ')
  }

  const content = hit._highlightResult.html.value;

  return `
    <div class="result-item">
    <h2><a class="result-link" href="${url}">${title}</a></h2>
    <a href="${url}" class="result-breadcrumbs">${breadcrumbs}</a>
    <div class="result-snippet">${content}</div>
    </div>
  `;
}

algoliaSearch.addWidget(
  instantsearch.widgets.searchBox({
    container: '#search-input',
    placeholder: 'Search ...',
    poweredBy: true, // This is required if you're on the free Community plan
    magnifier: false,
    autofocus: false,
    searchOnEnterKeyPressOnly: false,
    reset: true
  })
);

algoliaSearch.addWidget(
  instantsearch.widgets.hits({
    container: '#search-results',
    templates: {
      item: hitTemplate
    }
  })
);

algoliaSearch.start();

// Patch the style of the search input bar generated by the above script
// The equivalent CSS is below, however, including <style> in <body> is against the W3C commandments
// Chrome and Firefox had baby called scope, but it didn't make it
// https://stackoverflow.com/questions/2830296/using-style-tags-in-the-body-with-other-html
var elem = document.querySelector('.ais-search-box--powered-by');
elem.style.marginTop = '-15px';
elem.style.paddingRight = '5px';

var elem = document.querySelector('.nav li a.ais-search-box--powered-by-link');
elem.style.padding = '0';
elem.style.backgroundColor = 'transparent';
elem.style.display = "inline-block";

var elem = document.querySelector('.ais-search-box--input');
elem.style.paddingLeft = '10px';
elem.style.borderColor = '#0A76BB';

var elem = document.querySelector('.ais-search-box');
elem.style.padding = '.5em';
elem.style.marginBottom = '0px';
elem.style.marginLeft = '10px';
elem.style.marginTop = '0px';
elem.style.width = '20em';
elem.style.fontSize = '0.8em';
elem.style.height = '50px';
elem.style.boxSizing = 'border-box';

/*<style type="text/css">
.ais-search-box--powered-by {
  margin-top: -15px;
  padding-right: 5px;
}
.nav li a.ais-search-box--powered-by-link {
  padding: 0;
  background-color: transparent;
  display: inline-block;
}
.ais-search-box--input {
  padding-left: 10px;
  border-color: #0A76BB;
}
.ais-search-box {
  padding: .5em;
  margin-bottom: 0px;
  margin-left: 10px;
  margin-top: 0px;
  width: 20em;
  font-size: 0.8em;
  box-sizing: border-box;
  height: 50px;
}
</style>*/

// some hacky JS to hide the search results until we move to docsearch (which is a true autocomplete-type search)
document.addEventListener('mouseup', function(e) {
  var results = document.getElementById('search-results');
  if (!results.contains(e.target)) {
    results.style.display = 'none';
  }
});
document.addEventListener('mouseup', function(e) {
  var input = document.getElementById('search-input');
  var results = document.getElementById('search-results');
  if (input.contains(e.target)) {
    results.style.display = 'block';
  }
});

</script>
                    </div>
                    <!--end search-->
                </li>
                <li>
                    <a class="no-icon nav-external" href="https://precice.discourse.group" target="_blank" data-show-count="false" aria-label="Join the discourse community"><i class="fab fa-discourse"></i></a>
                </li>
                <li>
                    <a class="no-icon nav-external" href="https://github.com/precice/precice" target="_blank" data-show-count="false" aria-label="Star precice/precice on GitHub"><i class="fab fa-github"></i></a>
                </li>
                <li>
                    <a class="no-icon nav-external" href="https://twitter.com/preCICE_org" target="_blank" data-show-count="false" aria-label="Follow us on Twitter"><i class="fab fa-twitter"></i></a>
                </li>
                <li>
                    <!-- rel="me" required by Mastodon for verification -->
                    <a rel="me" class="no-icon nav-external" href="https://fosstodon.org/@precice" target="_blank" data-show-count="false" aria-label="Follow us on Mastodon"><i class="fab fa-mastodon"></i></a>
                </li>
                <li>
                    <a class="no-icon nav-external" href="https://www.youtube.com/c/preCICECoupling/" target="_blank" data-show-count="false" aria-label="Subscribe on Youtube"><i class="fab fa-youtube"></i></a>
                </li>
            </ul>
        </div>
        </div>
        <!-- /.container -->
</nav>

    </header>
    <main>
          <!-- News banner -->
          



        <!-- Page Content -->
        <div class="container">
            <div id="main">
                <!-- Content Row -->
                <div class="row">
                    
                    
                    <!-- Sidebar Column -->
                    <div class="col-md-3" id="tg-sb-sidebar">
                        

<ul id="mysidebar" class="nav">
  <li class="sidebarTitle"> </li>
  
  
  
  
  <!-- Parent menu item has folderitems -->
  <li>
    <a title="Tutorials" href="#">Tutorials</a>
    <ul>
      
      
      
      <li><a title="Introduction" href="tutorials.html">Introduction</a></li>
      
      
      
      
      
      
      <li><a title="Perpendicular flap" href="tutorials-perpendicular-flap.html">Perpendicular flap</a></li>
      
      
      
      
      
      
      <li><a title="Flow over heated plate" href="tutorials-flow-over-heated-plate.html">Flow over heated plate</a></li>
      
      
      
      
      
      
      <li><a title="Partitioned heat conduction" href="tutorials-partitioned-heat-conduction.html">Partitioned heat conduction</a></li>
      
      
      
      
      
      
      <li><a title="Turek-Hron FSI3" href="tutorials-turek-hron-fsi3.html">Turek-Hron FSI3</a></li>
      
      
      
      
      
      
      <li><a title="Multiple perpendicular flaps" href="tutorials-multiple-perpendicular-flaps.html">Multiple perpendicular flaps</a></li>
      
      
      
      
      
      
      <li><a title="Elastic tube 3D" href="tutorials-elastic-tube-3d.html">Elastic tube 3D</a></li>
      
      
      
      
      
      
      <li><a title="Elastic tube 1D" href="tutorials-elastic-tube-1d.html">Elastic tube 1D</a></li>
      
      
      
      
      
      
      <li><a title="Flow over heated plate (nearest projection)" href="tutorials-flow-over-heated-plate-nearest-projection.html">Flow over heated plate (nearest projection)</a></li>
      
      
      
      
      
      
      <li><a title="Flow over heated plate (steady state)" href="tutorials-flow-over-heated-plate-steady-state.html">Flow over heated plate (steady state)</a></li>
      
      
      
      
      
      
      <li><a title="Flow over heated plate (two meshes)" href="tutorials-flow-over-heated-plate-two-meshes.html">Flow over heated plate (two meshes)</a></li>
      
      
      
      
      
      
      <li><a title="Heat exchanger" href="tutorials-heat-exchanger.html">Heat exchanger</a></li>
      
      
      
      
      
      
      <li><a title="Heat exchanger simplified" href="tutorials-heat-exchanger-simplified.html">Heat exchanger simplified</a></li>
      
      
      
      
      
      
      <li><a title="Partitioned heat conduction complex" href="tutorials-partitioned-heat-conduction-complex.html">Partitioned heat conduction complex</a></li>
      
      
      
      
      
      
      <li><a title="Partitioned heat conduction direct" href="tutorials-partitioned-heat-conduction-direct.html">Partitioned heat conduction direct</a></li>
      
      
      
      
      
      
      <li><a title="Partitioned elastic beam" href="tutorials-partitioned-elastic-beam.html">Partitioned elastic beam</a></li>
      
      
      
      
      
      
      <li><a title="Partitioned pipe" href="tutorials-partitioned-pipe.html">Partitioned pipe</a></li>
      
      
      
      
      
      
      <li><a title="Partitioned flow over a step" href="tutorials-partitioned-backwards-facing-step.html">Partitioned flow over a step</a></li>
      
      
      
      
      
      
      <li><a title="Partitioned flow over heated plate" href="tutorials-flow-over-heated-plate-partitioned-flow.html">Partitioned flow over heated plate</a></li>
      
      
      
      
      
      
      <li><a title="Oscillator" href="tutorials-oscillator.html">Oscillator</a></li>
      
      
      
      
      
      
      <li class="active"><a title="ASTE turbine" href="tutorials-aste-turbine.html">ASTE turbine</a></li>
      
      
      
      
      
      
      <li><a title="Volume-coupled diffusion" href="tutorials-volume-coupled-diffusion.html">Volume-coupled diffusion</a></li>
      
      
      
      
      
      
      <li><a title="Channel transport" href="tutorials-channel-transport.html">Channel transport</a></li>
      
      
      
      
      
      
      <li><a title="Channel transport reaction" href="tutorials-channel-transport-reaction.html">Channel transport reaction</a></li>
      
      
      
      
    </ul>
  </li>
  
  
  
  
  <!-- if you aren't using the accordion, uncomment this block:
  <p class="external">
  <a href="#" id="collapseAll">Collapse All</a> | <a href="#" id="expandAll">Expand All</a>
  </p>
  -->
</ul>

<!-- this highlights the active parent class in the navgoco sidebar. this is critical so that the parent expands when you're viewing a page. This must appear below the sidebar code above. Otherwise, if placed inside customscripts.js, the script runs before the sidebar code runs and the class never gets inserted.-->
<script>$("li.active").parents('li').toggleClass("active");</script>

                    </div>
                    
                    

                    <!-- Content Column -->
                    <div class="col-md-9" id="tg-sb-content">
                        <div class="post-header">
   <h1 class="post-title-main">ASTE (artificial solver testing environment) wind turbine blade tutorial</h1>
</div>



<div class="post-content">

    
    <div class="summary">
        <!-- https://github.com/jekyll/jekyll/issues/3571 -->
        This tutorial is an example case for ASTE, where we investigate different preCICE mappings using ASTE.

    </div>
    

    <div class="row">
        <div class="col-md-10 col-sm-8">
          
          
          
<!-- this handles the automatic toc. use ## for subheads to auto-generate the on-page minitoc. if you use html tags, you must supply an ID for the heading element in order for it to appear in the minitoc. -->
<script>
$( document ).ready(function() {
  // Handler for .ready() called.

    $('#toc').toc({ minimumHeaders: 0, listType: 'ul', showSpeed: 0, headers:  'h2,h3,h4'  });

/* this offset helps account for the space taken up by the floating toolbar. */
$('#toc').on('click', 'a', function() {
  var target = $(this.getAttribute('href'))
    , scroll_target = target.offset().top

  $(window).scrollTop(scroll_target - 10);
  return false
})
  
});
</script>

<div id="toc"></div>

          
          
        </div>

        <div class="col-md-2 col-sm-4">
            
            
                
                
                
                
                <div class="text-right">
                    <a target="_blank" rel="noopener" href="https://github.com/precice/tutorials/edit/develop/aste-turbine/README.md" class="btn btn-default githubEditButton" role="button"><i class="fab fa-github fa-lg"></i> Edit me</a>
                </div>
            
            
        </div>
    </div>

   <div class="alert alert-info" role="alert"><i class="fa fa-info-circle"></i> <b>Note:</b> Get the <a href="https://github.com/precice/tutorials/tree/master/aste-turbine">case files of this tutorial</a>. Read how in the <a href="https://precice.org/tutorials.html">tutorials introduction</a>.</div>

<p>If you are completely new to ASTE have a look at our <a href="https://precice.org/tooling-aste.html">ASTE documentation</a>. This tutorial shows how to setup a mapping between two (artificial) meshes using preCICE and ASTE in parallel. The executed mapping can be investigated in terms of accuracy as well as runtime.</p>

<h2 id="setup">Setup</h2>

<p>Our example consists of a wind turbine blade geometry, which was triangulated using different refinement levels. The mesh files are stored in <a href="https://gitlab.lrz.de/precice/precice2-ref-paper-setup">this GitLab repository</a> and correspond to the mesh files used for the mapping tests of our <a href="https://doi.org/10.12688/openreseurope.14445.1">version 2 reference paper</a>. The mesh files are automatically downloaded when the <code class="language-plaintext highlighter-rouge">run.sh</code> script is executed. In this example setup, we map the mesh <code class="language-plaintext highlighter-rouge">0.01.vtk</code> (left side of the figure) to the mesh <code class="language-plaintext highlighter-rouge">0.006.vtk</code> (right side of the figure).</p>

<p><img src="images/tutorials-aste-turbine-setup.png" alt="Turbine setup" /></p>

<h2 id="running-the-tutorial">Running the tutorial</h2>

<p>All necessary steps in order to run the mapping setup are summarized in the <code class="language-plaintext highlighter-rouge">run.sh</code> script. Have a look at the comments in the run script in order to understand what is happening. In particular, the script executes the following steps:</p>

<ol>
  <li>Download the mesh files and extract them in the <code class="language-plaintext highlighter-rouge">meshes</code> directory. This step is only executed when running the script for the first time. For our example, we only use two of the downloaded meshes. The tutorial can easily be modified to employ different meshes.</li>
  <li>Generate input data for our mapping problem. As described in the <a href="https://precice.org/tooling-aste.html#precice-aste-evaluate">ASTE documentation</a>, the python script <code class="language-plaintext highlighter-rouge">precice-aste-evaluate</code> evaluates a test function and stores the results on a mesh. Here, we select Frankeâ€™s function, evaluate it on the input mesh <code class="language-plaintext highlighter-rouge">0.01.vtk</code>, and store the results on a mesh called <code class="language-plaintext highlighter-rouge">input_mesh.vtu</code>. Use <code class="language-plaintext highlighter-rouge">precice-aste-evaluate --list-functions</code> to get a complete list of available test functions and their definitions.</li>
  <li>Partition meshes. We want to execute the mapping in parallel. To this end, we need to partition our mesh files so that each rank receives its own mesh file. The python script <code class="language-plaintext highlighter-rouge">precice-aste-partition</code> partitions a given mesh in a specified number of pieces (here two for the input mesh and two for the output mesh).</li>
  <li>Execute the actual mapping. We start two instances of <code class="language-plaintext highlighter-rouge">precice-aste-run</code>, which is the ASTE core module interfacing with preCICE, to emulate two participants. Here, we map the data from the coarse input mesh to the fine output mesh. We store the mesh and data per rank in files <code class="language-plaintext highlighter-rouge">mapped/mapped...</code> with data called <code class="language-plaintext highlighter-rouge">InterpolatedData</code>.</li>
  <li>Join scattered mesh files. The python script <code class="language-plaintext highlighter-rouge">precice-aste-join</code> joins the results into one large mesh file <code class="language-plaintext highlighter-rouge">result.vtu</code>.</li>
  <li>Investigate accuracy of mapping configuration. We use <code class="language-plaintext highlighter-rouge">precice-aste-evaluate</code> again. This time, we use the <code class="language-plaintext highlighter-rouge">--diff</code> flag in order to compute the error between our test function and the mapped data. We store the difference data (<code class="language-plaintext highlighter-rouge">Error</code>) on the result mesh (<code class="language-plaintext highlighter-rouge">result.vtu</code>) as well, which allows us to visualize the error distribution, e.g., using <code class="language-plaintext highlighter-rouge">ParaView</code>. <code class="language-plaintext highlighter-rouge">precice-aste-evaluate</code> also prints several global error measures to the console:</li>
</ol>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">---</span><span class="o">[</span>ASTE-Evaluate] INFO : Vertex count 9588
<span class="nt">---</span><span class="o">[</span>ASTE-Evaluate] INFO : Relative l2 error 0.002402706834866804
<span class="nt">---</span><span class="o">[</span>ASTE-Evaluate] INFO : Maximum absolute error per vertex 0.009659755828445804
<span class="nt">---</span><span class="o">[</span>ASTE-Evaluate] INFO : Maximum signed error per vertex 0.00888725146042224
<span class="nt">---</span><span class="o">[</span>ASTE-Evaluate] INFO : Minimum absolute error per vertex 0.0
<span class="nt">---</span><span class="o">[</span>ASTE-Evaluate] INFO : Minimum signed error per vertex <span class="nt">-0</span>.009659755828445804
<span class="nt">---</span><span class="o">[</span>ASTE-Evaluate] INFO : Median absolute error per vertex 0.0011544478395176805
<span class="nt">---</span><span class="o">[</span>ASTE-Evaluate] INFO : 99th percentile of absolute error per vertex 0.007066025673252374
<span class="nt">---</span><span class="o">[</span>ASTE-Evaluate] INFO : 95th percentile of absolute error per vertex 0.005206080046631978
<span class="nt">---</span><span class="o">[</span>ASTE-Evaluate] INFO : 90th percentile of absolute error per vertex 0.004253350142177374
</code></pre></div></div>

<p>This information is additionally stored in a JSON file <code class="language-plaintext highlighter-rouge">result.stats.json</code> for potential further processing.</p>

<div class="alert alert-info" role="alert"><i class="fa fa-info-circle"></i> <b>Note:</b> 
The error measures used here are only useful for consistent mapping configurations, i.e., <code class="language-plaintext highlighter-rouge">constraint="consistent"</code>.
</div>

<p>This tutorial is meant as a starting point to investigate mapping setups. The provided configuration uses a <code class="language-plaintext highlighter-rouge">nearest-neighbor</code> mapping, but there are other mapping configurations available (commented out) in the <code class="language-plaintext highlighter-rouge">precice-config.xml</code> file. Example: using the last configuration (<code class="language-plaintext highlighter-rouge">rbf-compact-polynomial-c6</code> with a dense matrix decomposition) leads to the following error measures:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">---</span><span class="o">[</span>ASTE-Evaluate] INFO : Vertex count 3458
<span class="nt">---</span><span class="o">[</span>ASTE-Evaluate] INFO : Relative l2 error 9.588343106540401e-08
<span class="nt">---</span><span class="o">[</span>ASTE-Evaluate] INFO : Maximum absolute error per vertex 1.7229951972397295e-06
<span class="nt">---</span><span class="o">[</span>ASTE-Evaluate] INFO : Maximum signed error per vertex 1.7229951972397295e-06
<span class="nt">---</span><span class="o">[</span>ASTE-Evaluate] INFO : Minimum absolute error per vertex 3.5638159090467525e-14
<span class="nt">---</span><span class="o">[</span>ASTE-Evaluate] INFO : Minimum signed error per vertex <span class="nt">-1</span>.6968422637542169e-06
<span class="nt">---</span><span class="o">[</span>ASTE-Evaluate] INFO : Median absolute error per vertex 6.217611314696114e-09
<span class="nt">---</span><span class="o">[</span>ASTE-Evaluate] INFO : 99th percentile of absolute error per vertex 3.548732313379818e-07
<span class="nt">---</span><span class="o">[</span>ASTE-Evaluate] INFO : 95th percentile of absolute error per vertex 1.6012309731194814e-07
<span class="nt">---</span><span class="o">[</span>ASTE-Evaluate] INFO : 90th percentile of absolute error per vertex 8.077894064206796e-08
</code></pre></div></div>

<p>which are clearly better than the ones we got with <code class="language-plaintext highlighter-rouge">nearest-neighbor</code> mapping above. However, this comes at the cost of a much higher runtime ().</p>


    <div class="tags">
        
    </div>



</div>


                        <hr class="faded"/>
                        <footer>
	<div class="row text-center">

		 Site last generated: Nov 21, 2023 <br />

		<a class="no-icon" rel="license" href="https://creativecommons.org/licenses/by/4.0/">
			<img alt="Creative Commons License" src="images/licensebutton-by-40_88x31.png" />
		</a>
		<br />
		This work is licensed under a <a rel="license" href="https://creativecommons.org/licenses/by/4.0/">Creative Commons Attribution 4.0 International License</a>.

	</div>

</footer>

                    </div>
                    <!-- /.row -->
                </div>
            <!-- /.container -->
            </div>
        <!-- /#main -->
        </div>
    </main>
</body>


</html>
