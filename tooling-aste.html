<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">

  <meta name="description" content="ASTE is a lightweight wrapper around the preCICE API, which allows emulating participants to investigate simulation setups.">

<meta name="keywords" content=" tooling, aste">
<meta name="theme-color" content="#0A76BB">
<meta name="msapplication-square310x310logo" content="images/icon-310x310.png">

<title>Artificial Solver Testing Environment (ASTE) | preCICE - The Coupling Library</title>
<link rel="alternate" type="application/rss+xml" title="" href="https://precice.org/feed.xml">

<!-- OpenGraph metadata -->
<meta property="og:title" content="Artificial Solver Testing Environment (ASTE)" />
<meta property="og:site_name" content="preCICE.org" />
<meta property="og:type" content="website" />
<meta property="og:url" content="https://precice.org/page.url" />
<meta property="og:image" content="https://precice.org/images/icon.svg" />
<meta property="og:description" content="ASTE is a lightweight wrapper around the preCICE API, which allows emulating participants to investigate simulation setups.">

<!-- Cannonical link -->
<link rel="canonical" href="https://precice.org/tooling-aste" >

<link rel="shortcut icon" href="images/favicon.ico">
<link rel="stylesheet" href="css/syntax.css">
<link rel="icon" sizes="192x192" href="images/icon.png">
<link rel="apple-touch-icon" sizes="310x310" href="images/icon-310x310.png">

<!-- Font Awesome -->
<link rel="stylesheet" href="//use.fontawesome.com/releases/v5.14.0/css/all.css" integrity="sha384-HzLeBuhoNPvSl5KYnjx0BT+WB0QEEqLprO+NBkkk5gbc67FTaL7XIGa2w1L0Xbgc" crossorigin="anonymous">

<!-- Bootstrap -->
<!-- <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous"> -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@3.3.7/dist/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">

<!-- Local CSS -->
<link rel="stylesheet" href="css/modern-business.css">
<link rel="stylesheet" href="css/customstyles.css">
<link rel="stylesheet" href="css/customstyles-precice.css">
<link rel="stylesheet" href="css/boxshadowproperties.css">
<link rel="stylesheet" href="css/bookcover.css">
<!-- Color styles -->
<link rel="stylesheet" href="css/theme-precice.css">
<!-- Styling for landing page -->


<!-- Jquery, Ajax -->
<script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/jquery.cookie@1.4.1/jquery.cookie.min.js"></script>

<!-- Anchor.js -->
<script src="https://cdn.jsdelivr.net/npm/anchor-js@4.2.0/anchor.min.js" integrity="sha256-m1eTvwEHwmsw4+XKF7BshClVJEPwTVycveNl0CS0Mkk=" crossorigin="anonymous"></script>

<!-- Bootstrap JavaScript (requires jquery) -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@3.3.7/dist/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Local JS -->
<script src="js/jquery.navgoco.min.js"></script>
<script src="js/toc.js"></script>
<script src="js/customscripts.js"></script>

<!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
<script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
<![endif]-->

<!-- KaTeX -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css" integrity="sha384-AfEj0r4/OFrOo5t7NnNe46zW/tFgW6x/bCJG8FqQCEo3+Aro6EYUG4+cU+KJWu/X" crossorigin="anonymous">
<!-- The loading of KaTeX is deferred to speed up page rendering -->
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.js" integrity="sha384-g7c+Jr9ZivxKLnZTDUhnkOnsh30B4H0rpLUpJ4jAIKs4fnJI+sEnkvrMWph2EDg4" crossorigin="anonymous"></script>
<!-- To automatically render math in text elements, include the auto-render extension: -->
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/contrib/auto-render.min.js" integrity="sha384-mll67QQFJfxn0IYznZYonOWZ644AWYC+Pt2cHqMaRhXVrursRwvLnLaebdGIlYNa" crossorigin="anonymous"
    onload="renderMathInElement(document.body);"></script>

<!-- Algolia search -->
<script src="https://cdn.jsdelivr.net/npm/instantsearch.js@2.6.0/dist/instantsearch.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/moment@2.20.1/moment.min.js"></script>
<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/instantsearch.js@2.6.0/dist/instantsearch.min.css">
<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/instantsearch.js@2.6.0/dist/instantsearch-theme-algolia.min.css">

<!-- QR code to retrieve printed page -->
<style>
@media print {
    div.post-header:before {
    	content: url('https://chart.googleapis.com/chart?cht=qr&chs=100x100&chl=https://precice.org/tooling-aste.html&choe=UTF-8');
        margin-top: -25px;
        float: right;
    }
}
</style>

<!-- Plausible Analytics -->
<script async defer data-domain="precice.org" src="https://plausible.io/js/plausible.js"></script>

    <script>
        $(document).ready(function() {
            // Initialize navgoco with default options
            $("#mysidebar").navgoco({
                caretHtml: '',
                accordion: true,
                openClass: 'active', // open
                save: false, // leave false or nav highlighting doesn't work right
                cookie: {
                    name: 'navgoco',
                    expires: false,
                    path: '/'
                },
                slide: {
                    duration: 400,
                    easing: 'swing'
                }
            });

            $("#collapseAll").click(function(e) {
                e.preventDefault();
                $("#mysidebar").navgoco('toggle', false);
            });

            $("#expandAll").click(function(e) {
                e.preventDefault();
                $("#mysidebar").navgoco('toggle', true);
            });

        });

    </script>
    <script>
        $(function () {
            $('[data-toggle="tooltip"]').tooltip()
        })
    </script>
    <script>
        $(document).ready(function() {
            $("#tg-sb-link").click(function() {
                $("#tg-sb-sidebar").toggle();
                $("#tg-sb-content").toggleClass('col-md-9');
                $("#tg-sb-content").toggleClass('col-md-12');
                $("#tg-sb-icon").toggleClass('fa-toggle-on');
                $("#tg-sb-icon").toggleClass('fa-toggle-off');
            });
        });
    </script>
    <script>
        // wrap tables into a div to make them scrollable on small viewports
        // https://getbootstrap.com/docs/3.4/css/#tables-responsive
        $(document).ready(function() {
            $('table').addClass('table');
            $('table').wrap('<div class="table-responsive"></div>');
        });
    </script>
    
</head>
<body>
    <header>
        <!-- Navigation -->
<nav class="navbar navbar-inverse navbar-fixed-top">
    <div class="container topnavlinks">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://precice.org">
            <span class="navbar-brand-icon">
            <img class="navbar-brand-text" src="images/preCICE_text_28px.svg" alt="preCICE"></span>
            </a>
        </div>
        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
            <ul class="nav navbar-nav navbar-right">
                <!-- toggle sidebar button -->
                
                <!-- entries without drop-downs appear here -->

                
                

                
                
                
                
                
                <li><a href="quickstart.html">Quickstart</a></li>
                
                
                
                
                
                <li class="active"><a href="docs.html">Docs</a></li>
                
                
                
                
                
                <li><a href="tutorials.html">Tutorials</a></li>
                
                
                
                
                
                <li><a href="community.html">Community</a></li>
                
                
                
                
                
                <li><a href="https://precice.discourse.group/c/news" target="_blank" rel="noopener">Blog</a></li>
                
                
                
                
                
                <li><a href="about.html">About</a></li>
                
                
                
                <!-- entries with drop-downs appear here -->
                <!-- conditional logic to control which topnav appears for the audience defined in the configuration file.-->
                

                
                <!--comment out this block if you want to hide search-->
                <li>
                    <!--start search-->
                    <div id="search-demo-container">
                        <div id="search-input"></div>
                        <div id="search-results"></div>
                        <script>
const algoliaSearch = instantsearch({
  appId: 'LIT6P0EW26',
  apiKey: '760ed6be3e165d08b4a798ac4aa82fe4',
  indexName: 'jekyll',
  searchFunction: function(helper) {          // hide search result in init query
    var searchResults = $('#search-results');
    if (helper.state.query === '') {
      searchResults.hide();
      return;
    }
    helper.search();
    searchResults.show();
  }
});

const hitTemplate = function(hit) {
  let date = '';
  if (hit.date) {
    date = moment.unix(hit.date).format('MMM D, YYYY');
  }

  let url = `${hit.url}#${hit.anchor}`;

  const title = hit._highlightResult.title.value;

  let breadcrumbs = '';
  if (hit._highlightResult.headings) {
    breadcrumbs = hit._highlightResult.headings.map(match => {
      return `<span class="result-breadcrumb">${match.value}</span>`
    }).join(' > ')
  }

  const content = hit._highlightResult.html.value;

  return `
    <div class="result-item">
    <h2><a class="result-link" href="${url}">${title}</a></h2>
    <a href="${url}" class="result-breadcrumbs">${breadcrumbs}</a>
    <div class="result-snippet">${content}</div>
    </div>
  `;
}

algoliaSearch.addWidget(
  instantsearch.widgets.searchBox({
    container: '#search-input',
    placeholder: 'Search ...',
    poweredBy: true, // This is required if you're on the free Community plan
    magnifier: false,
    autofocus: false,
    searchOnEnterKeyPressOnly: false,
    reset: true
  })
);

algoliaSearch.addWidget(
  instantsearch.widgets.hits({
    container: '#search-results',
    templates: {
      item: hitTemplate
    }
  })
);

algoliaSearch.start();

// Patch the style of the search input bar generated by the above script
// The equivalent CSS is below, however, including <style> in <body> is against the W3C commandments
// Chrome and Firefox had baby called scope, but it didn't make it
// https://stackoverflow.com/questions/2830296/using-style-tags-in-the-body-with-other-html
var elem = document.querySelector('.ais-search-box--powered-by');
elem.style.marginTop = '-15px';
elem.style.paddingRight = '5px';

var elem = document.querySelector('.nav li a.ais-search-box--powered-by-link');
elem.style.padding = '0';
elem.style.backgroundColor = 'transparent';
elem.style.display = "inline-block";

var elem = document.querySelector('.ais-search-box--input');
elem.style.paddingLeft = '10px';
elem.style.borderColor = '#0A76BB';

var elem = document.querySelector('.ais-search-box');
elem.style.padding = '.5em';
elem.style.marginBottom = '0px';
elem.style.marginLeft = '10px';
elem.style.marginTop = '0px';
elem.style.width = '20em';
elem.style.fontSize = '0.8em';
elem.style.height = '50px';
elem.style.boxSizing = 'border-box';

/*<style type="text/css">
.ais-search-box--powered-by {
  margin-top: -15px;
  padding-right: 5px;
}
.nav li a.ais-search-box--powered-by-link {
  padding: 0;
  background-color: transparent;
  display: inline-block;
}
.ais-search-box--input {
  padding-left: 10px;
  border-color: #0A76BB;
}
.ais-search-box {
  padding: .5em;
  margin-bottom: 0px;
  margin-left: 10px;
  margin-top: 0px;
  width: 20em;
  font-size: 0.8em;
  box-sizing: border-box;
  height: 50px;
}
</style>*/

// some hacky JS to hide the search results until we move to docsearch (which is a true autocomplete-type search)
document.addEventListener('mouseup', function(e) {
  var results = document.getElementById('search-results');
  if (!results.contains(e.target)) {
    results.style.display = 'none';
  }
});
document.addEventListener('mouseup', function(e) {
  var input = document.getElementById('search-input');
  var results = document.getElementById('search-results');
  if (input.contains(e.target)) {
    results.style.display = 'block';
  }
});

</script>
                    </div>
                    <!--end search-->
                </li>
                <li>
                    <a class="no-icon nav-external" href="https://precice.discourse.group" target="_blank" data-show-count="false" aria-label="Join the discourse community"><i class="fab fa-discourse"></i></a>
                </li>
                <li>
                    <a class="no-icon nav-external" href="https://github.com/precice" target="_blank" data-show-count="false" aria-label="Star precice/precice on GitHub"><i class="fab fa-github"></i></a>
                </li>
                <li>
                    <a class="no-icon nav-external" href="https://twitter.com/preCICE_org" target="_blank" data-show-count="false" aria-label="Follow us on Twitter"><i class="fab fa-twitter"></i></a>
                </li>
                <li>
                    <!-- rel="me" required by Mastodon for verification -->
                    <a rel="me" class="no-icon nav-external" href="https://fosstodon.org/@precice" target="_blank" data-show-count="false" aria-label="Follow us on Mastodon"><i class="fab fa-mastodon"></i></a>
                </li>
                <li>
                    <a class="no-icon nav-external" href="https://www.youtube.com/c/preCICECoupling/" target="_blank" data-show-count="false" aria-label="Subscribe on Youtube"><i class="fab fa-youtube"></i></a>
                </li>
            </ul>
        </div>
        </div>
        <!-- /.container -->
</nav>

    </header>
    <main>
          <!-- News banner -->
          

<div class="background-light banner-container">
  <div class="container">
    <div class="row no-margin">
      <div class="col-lg-12 banner">
        <p class="no-margin">
          The <a href="https://precice.org/precice-workshop-2024.html">preCICE workshop 2024</a> is happening soon!
        </p>
      </div>
    </div>
  </div>
</div>

        <!-- Page Content -->
        <div class="container">
            <div id="main">
                <!-- Content Row -->
                <div class="row">
                    
                    
                    <!-- Sidebar Column -->
                    <div class="col-md-3" id="tg-sb-sidebar">
                        

<ul id="mysidebar" class="nav">
  <li class="sidebarTitle">Docs v3.1.2</li>
  
  
  
  
  
  
  <!-- Parent menu item has folderitems -->
  <li>
    <a title="Fundamentals" href="#">Fundamentals</a>
    <ul>
      
      
      
      <li><a title="Overview" href="docs.html">Overview</a></li>
      
      
      
      
      
      
      <li><a title="Terminology" href="fundamentals-terminology.html">Terminology</a></li>
      
      
      
      
      
      
      <li><a title="License information" href="fundamentals-license.html">License information</a></li>
      
      
      
      
      
      
      <li><a title="Literature guide" href="fundamentals-literature-guide.html">Literature guide</a></li>
      
      
      
      
      
      
      <li><a title="Roadmap" href="fundamentals-roadmap.html">Roadmap</a></li>
      
      
      
      
      
      
      <li><a title="Previous versions" href="fundamentals-previous-versions.html">Previous versions</a></li>
      
      
      
      
    </ul>
  </li>
  
  
  
  
  
  <!-- Parent menu item has folderitems -->
  <li>
    <a title="Installation" href="#">Installation</a>
    <ul>
      
      
      
      <li><a title="Overview" href="installation-overview.html">Overview</a></li>
      
      
      
      
      
      
      <li><a title="System packages" href="installation-packages.html">System packages</a></li>
      
      
      
      
      
      
      <li><a title="Using Spack" href="installation-spack.html">Using Spack</a></li>
      
      
      
      <li class="subfolders">
        <a title="Building from source" href="#">Building from source</a>
        <ul>
          
          
          
          <li><a title="Preparation" href="installation-source-preparation.html">Preparation</a></li>
          
          
          
          
          
          <li><a title="Dependencies" href="installation-source-dependencies.html">Dependencies</a></li>
          
          
          
          
          
          <li><a title="Configuration" href="installation-source-configuration.html">Configuration</a></li>
          
          
          
          
          
          <li><a title="Building" href="installation-source-building.html">Building</a></li>
          
          
          
          
          
          <li><a title="Testing" href="installation-source-testing.html">Testing</a></li>
          
          
          
          
          
          <li><a title="Installation" href="installation-source-installation.html">Installation</a></li>
          
          
          
          
          
          <li><a title="Finding" href="installation-source-finding.html">Finding</a></li>
          
          
          
          
          
          <li><a title="Advanced" href="installation-source-advanced.html">Advanced</a></li>
          
          
          
          
          
          <li><a title="Troubleshooting" href="installation-source-troubleshooting.html">Troubleshooting</a></li>
          
          
          
          
          
          <li><a title="Notes on CMake" href="installation-source-cmake.html">Notes on CMake</a></li>
          
          
          
        </ul>
      </li>
      
      
      
      
      
      
      <li><a title="Linking to preCICE" href="installation-linking.html">Linking to preCICE</a></li>
      
      
      
      <li class="subfolders">
        <a title="Language bindings" href="#">Language bindings</a>
        <ul>
          
          
          
          <li><a title="Fortran" href="installation-bindings-fortran.html">Fortran</a></li>
          
          
          
          
          
          <li><a title="Python" href="installation-bindings-python.html">Python</a></li>
          
          
          
          
          
          <li><a title="Matlab" href="installation-bindings-matlab.html">Matlab</a></li>
          
          
          
          
          
          <li><a title="Julia" href="installation-bindings-julia.html">Julia</a></li>
          
          
          
          
          
          <li><a title="Rust" href="installation-bindings-rust.html">Rust</a></li>
          
          
          
        </ul>
      </li>
      
      
      
      
      
      
      <li><a title="Special systems" href="installation-special-systems.html">Special systems</a></li>
      
      
      
      
      
      
      <li><a title="Demo Virtual Machine" href="installation-vm.html">Demo Virtual Machine</a></li>
      
      
      
      
      
      
      <li><a title="preCICE distribution" href="installation-distribution.html">preCICE distribution</a></li>
      
      
      
      
    </ul>
  </li>
  
  
  
  
  
  <!-- Parent menu item has folderitems -->
  <li>
    <a title="Configuration" href="#">Configuration</a>
    <ul>
      
      
      
      <li><a title="Overview" href="configuration-overview.html">Overview</a></li>
      
      
      
      <li class="subfolders">
        <a title="Basics" href="#">Basics</a>
        <ul>
          
          
          
          <li><a title="Introduction" href="configuration-introduction.html">Introduction</a></li>
          
          
          
          
          
          <li><a title="Mapping" href="configuration-mapping.html">Mapping</a></li>
          
          
          
          
          
          <li><a title="Communication" href="configuration-communication.html">Communication</a></li>
          
          
          
          
          
          <li><a title="Coupling scheme" href="configuration-coupling.html">Coupling scheme</a></li>
          
          
          
          
          
          <li><a title="Acceleration" href="configuration-acceleration.html">Acceleration</a></li>
          
          
          
          
          
          <li><a title="Mesh exchange example" href="configuration-coupling-mesh-exchange.html">Mesh exchange example</a></li>
          
          
          
        </ul>
      </li>
      
      
      
      <li class="subfolders">
        <a title="Advanced topics" href="#">Advanced topics</a>
        <ul>
          
          
          
          <li><a title="Multi coupling" href="configuration-coupling-multi.html">Multi coupling</a></li>
          
          
          
          
          
          <li><a title="Logging" href="configuration-logging.html">Logging</a></li>
          
          
          
          
          
          <li><a title="Export" href="configuration-export.html">Export</a></li>
          
          
          
          
          
          <li><a title="Action" href="configuration-action.html">Action</a></li>
          
          
          
          
          
          <li><a title="Watchpoint" href="configuration-watchpoint.html">Watchpoint</a></li>
          
          
          
          
          
          <li><a title="Watch integral" href="configuration-watchintegral.html">Watch integral</a></li>
          
          
          
        </ul>
      </li>
      
      
      
      
      
      
      <li><a title="XML reference" href="configuration-xml-reference.html">XML reference</a></li>
      
      
      
      
    </ul>
  </li>
  
  
  
  
  
  <!-- Parent menu item has folderitems -->
  <li>
    <a title="Tooling" href="#">Tooling</a>
    <ul>
      
      
      
      <li><a title="Overview" href="tooling-overview.html">Overview</a></li>
      
      
      
      
      
      
      <li  class="active"  ><a title="Artificial solver testing environment (ASTE)" href="tooling-aste.html">Artificial solver testing environment (ASTE)</a></li>
      
      
      
      
      
      
      <li><a title="Built-in tooling" href="tooling-builtin.html">Built-in tooling</a></li>
      
      
      
      
      
      
      <li><a title="Config visualization" href="tooling-config-visualization.html">Config visualization</a></li>
      
      
      
      
      
      
      <li><a title="FMI runner" href="tooling-fmi-runner.html">FMI runner</a></li>
      
      
      
      <li class="subfolders">
        <a title="Micro Manager" href="#">Micro Manager</a>
        <ul>
          
          
          
          <li><a title="Overview" href="tooling-micro-manager-overview.html">Overview</a></li>
          
          
          
          
          
          <li><a title="Get the Micro Manager" href="tooling-micro-manager-installation.html">Get the Micro Manager</a></li>
          
          
          
          
          
          <li><a title="Preparing micro simulation" href="tooling-micro-manager-prepare-micro-simulation.html">Preparing micro simulation</a></li>
          
          
          
          
          
          <li><a title="Configuration" href="tooling-micro-manager-configuration.html">Configuration</a></li>
          
          
          
          
          
          <li><a title="Running" href="tooling-micro-manager-running.html">Running</a></li>
          
          
          
          
          
          <li><a title="Snapshot Computation" href="tooling-micro-manager-snapshot-configuration.html">Snapshot Computation</a></li>
          
          
          
        </ul>
      </li>
      
      
      
      
      
      
      <li><a title="Performance analysis" href="tooling-performance-analysis.html">Performance analysis</a></li>
      
      
      
      
      
      
      <li><a title="RBF shape calculator" href="tooling-rbf-shape.html">RBF shape calculator</a></li>
      
      
      
      
    </ul>
  </li>
  
  
  
  
  
  <!-- Parent menu item has folderitems -->
  <li>
    <a title="Provided adapters" href="#">Provided adapters</a>
    <ul>
      
      
      
      <li><a title="Overview" href="adapters-overview.html">Overview</a></li>
      
      
      
      <li class="subfolders">
        <a title="CalculiX" href="#">CalculiX</a>
        <ul>
          
          
          
          <li><a title="Overview" href="adapter-calculix-overview.html">Overview</a></li>
          
          
          
          
          
          <li><a title="Get CalculiX" href="adapter-calculix-get-calculix.html">Get CalculiX</a></li>
          
          
          
          
          
          <li><a title="Get the adapter" href="adapter-calculix-get-adapter.html">Get the adapter</a></li>
          
          
          
          
          
          <li><a title="Build the adapter with PaStiX" href="adapter-calculix-pastix-build.html">Build the adapter with PaStiX</a></li>
          
          
          
          
          
          <li><a title="Configuration" href="adapter-calculix-config.html">Configuration</a></li>
          
          
          
          
          
          <li><a title="Troubleshooting" href="adapter-calculix-troubleshooting.html">Troubleshooting</a></li>
          
          
          
          
          
          <li><a title="Building on SuperMUC" href="adapter-calculix-supermuc.html">Building on SuperMUC</a></li>
          
          
          
        </ul>
      </li>
      
      
      
      <li class="subfolders">
        <a title="code_aster" href="#">code_aster</a>
        <ul>
          
          
          
          <li><a title="Overview" href="adapter-code_aster.html">Overview</a></li>
          
          
          
        </ul>
      </li>
      
      
      
      <li class="subfolders">
        <a title="deal.II" href="#">deal.II</a>
        <ul>
          
          
          
          <li><a title="Overview" href="adapter-dealii-overview.html">Overview</a></li>
          
          
          
          
          
          <li><a title="Get the adapter" href="adapter-dealii-get.html">Get the adapter</a></li>
          
          
          
          
          
          <li><a title="Configuration" href="adapter-dealii-configure.html">Configuration</a></li>
          
          
          
          
          
          <li><a title="For your own deal.II code" href="adapter-dealii-own-project.html">For your own deal.II code</a></li>
          
          
          
          
          
          <li><a title="Limitations and assumptions" href="adapter-dealii-limitations.html">Limitations and assumptions</a></li>
          
          
          
          
          
          <li><a title="Solver details" href="adapter-dealii-solver-details.html">Solver details</a></li>
          
          
          
          
          
          <li><a title="Coupling Meshes in deal.II" href="adapter-dealii-coupling-meshes.html">Coupling Meshes in deal.II</a></li>
          
          
          
        </ul>
      </li>
      
      
      
      <li class="subfolders">
        <a title="DuMuX" href="#">DuMuX</a>
        <ul>
          
          
          
          <li><a title="Overview" href="adapter-dumux.html">Overview</a></li>
          
          
          
          
          
          <li><a title="Get the adapter" href="adapter-dumux-get.html">Get the adapter</a></li>
          
          
          
          
          
          <li><a title="Use the adapter" href="adapter-dumux-use.html">Use the adapter</a></li>
          
          
          
        </ul>
      </li>
      
      
      
      <li class="subfolders">
        <a title="DUNE" href="#">DUNE</a>
        <ul>
          
          
          
          <li><a title="Overview" href="adapter-dune.html">Overview</a></li>
          
          
          
        </ul>
      </li>
      
      
      
      <li class="subfolders">
        <a title="FEniCS" href="#">FEniCS</a>
        <ul>
          
          
          
          <li><a title="Overview" href="adapter-fenics.html">Overview</a></li>
          
          
          
        </ul>
      </li>
      
      
      
      <li class="subfolders">
        <a title="Nutils" href="#">Nutils</a>
        <ul>
          
          
          
          <li><a title="Overview" href="adapter-nutils.html">Overview</a></li>
          
          
          
        </ul>
      </li>
      
      
      
      <li class="subfolders">
        <a title="OpenFOAM" href="#">OpenFOAM</a>
        <ul>
          
          
          
          <li><a title="Overview" href="adapter-openfoam-overview.html">Overview</a></li>
          
          
          
          
          
          <li><a title="Get the adapter" href="adapter-openfoam-get.html">Get the adapter</a></li>
          
          
          
          
          
          <li><a title="Configuration" href="adapter-openfoam-config.html">Configuration</a></li>
          
          
          
          
          
          <li><a title="Extending" href="adapter-openfoam-extend.html">Extending</a></li>
          
          
          
          
          
          <li><a title="OpenFOAM support" href="adapter-openfoam-support.html">OpenFOAM support</a></li>
          
          
          
        </ul>
      </li>
      
      
      
      <li class="subfolders">
        <a title="SU2" href="#">SU2</a>
        <ul>
          
          
          
          <li><a title="Overview" href="adapter-su2-overview.html">Overview</a></li>
          
          
          
          
          
          <li><a title="Get the adapter" href="adapter-su2-get.html">Get the adapter</a></li>
          
          
          
          
          
          <li><a title="Configuration" href="adapter-su2-configure.html">Configuration</a></li>
          
          
          
        </ul>
      </li>
      
      
      
      
    </ul>
  </li>
  
  
  
  
  
  <!-- Parent menu item has folderitems -->
  <li>
    <a title="Couple your code" href="#">Couple your code</a>
    <ul>
      
      
      
      <li><a title="Overview" href="couple-your-code-overview.html">Overview</a></li>
      
      
      
      
      
      
      <li><a title="Application programming interface" href="couple-your-code-api.html">Application programming interface</a></li>
      
      
      
      <li class="subfolders">
        <a title="Step by step" href="#">Step by step</a>
        <ul>
          
          
          
          <li><a title="Step 1 – Preparation" href="couple-your-code-preparing-your-solver.html">Step 1 – Preparation</a></li>
          
          
          
          
          
          <li><a title="Step 2 – Steering methods" href="couple-your-code-steering-methods.html">Step 2 – Steering methods</a></li>
          
          
          
          
          
          <li><a title="Step 3 – Mesh and data access" href="couple-your-code-mesh-and-data-access.html">Step 3 – Mesh and data access</a></li>
          
          
          
          
          
          <li><a title="Step 4 – Coupling flow" href="couple-your-code-coupling-flow.html">Step 4 – Coupling flow</a></li>
          
          
          
          
          
          <li><a title="Step 5 – Non-matching time step sizes" href="couple-your-code-time-step-sizes.html">Step 5 – Non-matching time step sizes</a></li>
          
          
          
          
          
          <li><a title="Step 6 – Implicit coupling" href="couple-your-code-implicit-coupling.html">Step 6 – Implicit coupling</a></li>
          
          
          
          
          
          <li><a title="Step 7 – Data initialization" href="couple-your-code-initializing-coupling-data.html">Step 7 – Data initialization</a></li>
          
          
          
          
          
          <li><a title="Step 8 – Mesh connectivity" href="couple-your-code-defining-mesh-connectivity.html">Step 8 – Mesh connectivity</a></li>
          
          
          
          
          
          <li><a title="Step 9 – Gradient Data" href="couple-your-code-gradient-data.html">Step 9 – Gradient Data</a></li>
          
          
          
        </ul>
      </li>
      
      
      
      <li class="subfolders">
        <a title="Advanced topics" href="#">Advanced topics</a>
        <ul>
          
          
          
          <li><a title="Adapter software engineering" href="couple-your-code-adapter-software-engineering.html">Adapter software engineering</a></li>
          
          
          
          
          
          <li><a title="Initialization in existing MPI environment" href="couple-your-code-existing-mpi-environment.html">Initialization in existing MPI environment</a></li>
          
          
          
          
          
          <li><a title="Moving or changing meshes" href="couple-your-code-moving-or-changing-meshes.html">Moving or changing meshes</a></li>
          
          
          
          
          
          <li><a title="Dealing with FEM meshes" href="couple-your-code-fem-meshes.html">Dealing with FEM meshes</a></li>
          
          
          
          
          
          <li><a title="Dealing with distributed meshes" href="couple-your-code-distributed-meshes.html">Dealing with distributed meshes</a></li>
          
          
          
          
          
          <li><a title="Direct access to received meshes" href="couple-your-code-direct-access.html">Direct access to received meshes</a></li>
          
          
          
          
          
          <li><a title="Time interpolation of coupling data" href="couple-your-code-waveform.html">Time interpolation of coupling data</a></li>
          
          
          
          
          
          <li><a title="Global data" href="couple-your-code-global-data.html">Global data</a></li>
          
          
          
        </ul>
      </li>
      
      
      
      <li class="subfolders">
        <a title="Porting guides for major versions" href="#">Porting guides for major versions</a>
        <ul>
          
          
          
          <li><a title="Porting adapters in general" href="couple-your-code-porting-overview.html">Porting adapters in general</a></li>
          
          
          
          
          
          <li><a title="Porting from 1.x to 2.x" href="couple-your-code-porting-v1-2.html">Porting from 1.x to 2.x</a></li>
          
          
          
          
          
          <li><a title="Porting from 2.x to 3.x" href="couple-your-code-porting-v2-3.html">Porting from 2.x to 3.x</a></li>
          
          
          
        </ul>
      </li>
      
      
      
      
    </ul>
  </li>
  
  
  
  
  
  <!-- Parent menu item has folderitems -->
  <li>
    <a title="Running simulations" href="#">Running simulations</a>
    <ul>
      
      
      
      <li><a title="Overview" href="running-overview.html">Overview</a></li>
      
      
      
      
      
      
      <li><a title="Running locally" href="running-simple.html">Running locally</a></li>
      
      
      
      
      
      
      <li><a title="Distributed systems" href="running-distributed.html">Distributed systems</a></li>
      
      
      
      
      
      
      <li><a title="SLURM sessions" href="running-slurm.html">SLURM sessions</a></li>
      
      
      
      
      
      
      <li><a title="Output files" href="running-output-files.html">Output files</a></li>
      
      
      
      
    </ul>
  </li>
  
  
  
  
  
  <!-- Parent menu item has folderitems -->
  <li>
    <a title="Dev docs" href="#">Dev docs</a>
    <ul>
      
      
      
      <li><a title="Overview" href="dev-docs-overview.html">Overview</a></li>
      
      
      
      
      
      
      <li><a title="Naming" href="dev-docs-naming.html">Naming</a></li>
      
      
      
      
      
      
      <li><a title="Source documentation" href="dev-docs-sourcedocs.html">Source documentation</a></li>
      
      
      
      
      
      
      <li><a title="General coding conventions" href="dev-docs-dev-conventions.html">General coding conventions</a></li>
      
      
      
      
      
      
      <li><a title="Timings in preCICE" href="dev-docs-dev-eventtimings.html">Timings in preCICE</a></li>
      
      
      
      
      
      
      <li><a title="Logging" href="dev-docs-dev-logging.html">Logging</a></li>
      
      
      
      
      
      
      <li><a title="Optimization" href="dev-docs-dev-optimization.html">Optimization</a></li>
      
      
      
      
      
      
      <li><a title="Release workflow" href="dev-docs-dev-release.html">Release workflow</a></li>
      
      
      
      
      
      
      <li><a title="Running and writing tests" href="dev-docs-dev-testing.html">Running and writing tests</a></li>
      
      
      
      
      
      
      <li><a title="System tests" href="dev-docs-system-tests.html">System tests</a></li>
      
      
      
      
      
      
      <li><a title="Tooling" href="dev-docs-dev-tooling.html">Tooling</a></li>
      
      
      
      
      
      
      <li><a title="Release strategy" href="dev-docs-release-strategy.html">Release strategy</a></li>
      
      
      
      
      
      
      <li><a title="Publication strategy" href="dev-docs-publication-strategy.html">Publication strategy</a></li>
      
      
      
      
    </ul>
  </li>
  
  
  
  
  
  <!-- Parent menu item has folderitems -->
  <li>
    <a title="Documentation meta" href="#">Documentation meta</a>
    <ul>
      
      
      
      <li><a title="Overview" href="docs-meta-overview.html">Overview</a></li>
      
      
      
      
      
      
      <li><a title="Content guidelines" href="docs-meta-content-guidelines.html">Content guidelines</a></li>
      
      
      
      
      
      
      <li><a title="Cheatsheet" href="docs-meta-cheatsheet.html">Cheatsheet</a></li>
      
      
      
      
      
      
      <li><a title="Landing page" href="docs-meta-landing-page.html">Landing page</a></li>
      
      
      
      
      
      
      <li><a title="PDF generation" href="docs-meta-publish-to-pdf.html">PDF generation</a></li>
      
      
      
      
      
      
      <li><a title="Common issues" href="docs-meta-common-issues.html">Common issues</a></li>
      
      
      
      
      
      
      <li><a title="Search" href="docs-meta-search.html">Search</a></li>
      
      
      
      
      
      
      <li><a title="Migration guide" href="docs-meta-migration-guide.html">Migration guide</a></li>
      
      
      
      
    </ul>
  </li>
  
  
  
  
  <!-- if you aren't using the accordion, uncomment this block:
  <p class="external">
  <a href="#" id="collapseAll">Collapse All</a> | <a href="#" id="expandAll">Expand All</a>
  </p>
  -->
</ul>

<!-- this highlights the active parent class in the navgoco sidebar. this is critical so that the parent expands when you're viewing a page. This must appear below the sidebar code above. Otherwise, if placed inside customscripts.js, the script runs before the sidebar code runs and the class never gets inserted.-->
<script>$("li.active").parents('li').toggleClass("active");</script>

                    </div>
                    
                    

                    <!-- Content Column -->
                    <div class="col-md-9" id="tg-sb-content">
                        <div class="post-header">
   <h1 class="post-title-main">Artificial Solver Testing Environment (ASTE)</h1>
</div>



<div class="post-content">

    
    <div class="summary">
        <!-- https://github.com/jekyll/jekyll/issues/3571 -->
        ASTE is a lightweight wrapper around the preCICE API, which allows emulating participants to investigate simulation setups.

    </div>
    

    <div class="row">
        <div class="col-md-9 col-sm-8">
          
          
          
<!-- this handles the automatic toc. use ## for subheads to auto-generate the on-page minitoc. if you use html tags, you must supply an ID for the heading element in order for it to appear in the minitoc. -->
<script>
$( document ).ready(function() {
  // Handler for .ready() called.

    $('#toc').toc({ minimumHeaders: 0, listType: 'ul', showSpeed: 0, headers:  'h2,h3,h4'  });

/* this offset helps account for the space taken up by the floating toolbar. */
$('#toc').on('click', 'a', function() {
  var target = $(this.getAttribute('href'))
    , scroll_target = target.offset().top

  $(window).scrollTop(scroll_target - 10);
  return false
})
  
});
</script>

<div id="toc"></div>

          
          
        </div>

        <div class="col-md-3 col-sm-4">
            
            
                
                
                
                
                <div class="text-right">
                    <a target="_blank" rel="noopener" href="https://github.com/precice/aste/edit/develop/docs/README.md" class="btn btn-default githubEditButton" role="button"><i class="fab fa-github fa-lg"></i> Edit me</a>
                </div>
            
            <div class="text-right">
              <small>Updated 16 Sep 24</small>
            </div>
            
        </div>
    </div>

   <h2 id="motivation">Motivation</h2>

<p>ASTE is a collection of tools that can be used to reproduce and evaluate particular setups without using actual solver codes. There are two common use-cases, where this is particularly useful:</p>

<ol>
  <li>
    <p>Reproducing a specific mapping setup of a coupled case, e.g., a case crashes since the mapping fails or the mapping seems to behave unexpected. ASTE allows to rerun such a case (in parallel if needed) and investigate the mapping in terms of accuracy as well as runtime.</p>
  </li>
  <li>
    <p>Replay mode, where we replace a participant in a coupled setup with ASTE resulting in a uni-directional coupling. This is useful for debugging, for developing new adapters, but also for efficiency reasons (explicit instead of implicit coupling, no computationally demanding solver needs to be executed).</p>
  </li>
</ol>

<h2 id="installation">Installation</h2>

<p>The core module, which interfaces with preCICE, is called <code class="language-plaintext highlighter-rouge">precice-aste-run</code> and written in C++. In addition, ASTE offers several tools for pre- and post-processing purposes written in python.</p>

<h3 id="dependencies">Dependencies</h3>

<p>The C++ core module of ASTE uses similar dependencies as preCICE itself. In particular, ASTE requires a C++ compiler, CMake, MPI and Boost. Have a look at the <a href="https://precice.org/installation-source-dependencies.html">corresponding preCICE documentation</a> for required versions and on how to install these dependencies if needed. In addition, ASTE relies on preCICE (version &gt;= 3.0) and the VTK library (version &gt;= 7) in order to handle mesh files. The VTK library can be installed using the package manager (<code class="language-plaintext highlighter-rouge">libvtk&lt;VERSION&gt;-dev</code>), e.g., on Ubuntu</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo </span>apt <span class="nb">install </span>libvtk9-dev
</code></pre></div></div>

<div class="alert alert-warning" role="alert"><i class="fas fa-exclamation-triangle"></i> <b>Important:</b> 
The VTK package also installs a compatible python interface to VTK, which is used in ASTE. If you already have a python VTK installation on your system (e.g. through pip), make sure that your python-vtk version is compatible with your C++ VTK version.
</div>

<p>However, a packaged VTK version combined with the python interface is known to be rather fragile:</p>

<ul>
  <li>For VTK 9, particularly the <a href="https://github.com/precice/aste/pull/182#issuecomment-2012144407">vtkXMLParser</a> is broken.</li>
  <li>For VTK 7, the python interface is incompatible with more recent versions of numpy (messages like <code class="language-plaintext highlighter-rouge">np.bool</code> was a deprecated alias for the builtin <code class="language-plaintext highlighter-rouge">bool</code>…) and the <code class="language-plaintext highlighter-rouge">xmlParser</code> might not work either.</li>
</ul>

<p>Therefore, a <a href="https://docs.vtk.org/en/latest/build_instructions/build.html#obtaining-the-sources">manual installation of VTK</a> is the safest way to install VTK on your operating system. Once the sources are downloaded, you can use <code class="language-plaintext highlighter-rouge">cmake</code> to configure and build the project as follows:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>cmake <span class="nt">-DCMAKE_INSTALL_PREFIX</span><span class="o">=</span><span class="s2">"/path/to/install"</span> <span class="nt">-DVTK_WRAP_PYTHON</span><span class="o">=</span><span class="s2">"ON"</span> <span class="nt">-DVTK_USE_MPI</span><span class="o">=</span><span class="s2">"ON"</span> <span class="nt">-DCMAKE_BUILD_TYPE</span><span class="o">=</span>Release ..
</code></pre></div></div>

<p>This configuration installs the required python bindings along with VTK. The python bindings will be installed in your <code class="language-plaintext highlighter-rouge">CMAKE_INSTALL_PREFIX/lib/&lt;PYTHON-VERSION&gt;/site-packages</code> (as opposed to the pip packages, which are typically installed in the <code class="language-plaintext highlighter-rouge">dist-packages</code> directory). You might need to add the <code class="language-plaintext highlighter-rouge">site-package</code> directory to your <code class="language-plaintext highlighter-rouge">PYTHONPATH</code> to make it discoverable for python:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">export </span><span class="nv">PYTHONPATH</span><span class="o">=</span><span class="s2">"CMAKE_INSTALL_PREFIX/lib/&lt;PYTHON-VERSION&gt;/site-packages:</span><span class="nv">$PYTHONPATH</span><span class="s2">"</span>
</code></pre></div></div>

<p>As an optional dependency for pre-processing, METIS can be installed. METIS is a graph partitioning library used for topological partitioning in the mesh partitioner and can be installed similarly via apt</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo </span>apt <span class="nb">install </span>libmetis-dev
</code></pre></div></div>

<p>The python tools require</p>

<ul>
  <li>NumPy</li>
  <li>sympy (optional)</li>
  <li>jinja2 (optional)</li>
  <li>scipy (optional)</li>
</ul>

<p>which can be installed directly using pip and the <code class="language-plaintext highlighter-rouge">requirements.txt</code> file in the repository</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>pip3 <span class="nb">install</span> <span class="nt">-r</span> requirements.txt
</code></pre></div></div>

<h3 id="building-and-installation">Building and installation</h3>

<p>In order to build ASTE, download the <a href="https://github.com/precice/aste/releases/latest">latest release</a> (or clone the <code class="language-plaintext highlighter-rouge">master</code> branch of the project repository) and use the usual <code class="language-plaintext highlighter-rouge">CMake</code> steps to steer the installation procedure:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git clone <span class="nt">--branch</span> master https://github.com/precice/aste.git
<span class="nb">cd </span>aste <span class="o">&amp;&amp;</span> <span class="nb">mkdir </span>build <span class="o">&amp;&amp;</span> <span class="nb">cd </span>build
cmake .. <span class="o">&amp;&amp;</span> make
</code></pre></div></div>

<div class="alert alert-success" role="alert"><i class="fa fa-check-square"></i> <b>Tip:</b> 
You can use <code class="language-plaintext highlighter-rouge">ctest</code> in order to check that the building procedure succeeded: Run <code class="language-plaintext highlighter-rouge">ctest</code>. If you face failing tests, <code class="language-plaintext highlighter-rouge">ctest --output-on-failure</code> helps to boil down the issue. Make sure you read the <a href="https://precice.org/tooling-aste.html#dependencies">notes on VTK</a>.
</div>

<p>In order to install ASTE and the associated tools system-wide, execute</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>make <span class="nb">install</span>
</code></pre></div></div>

<p>which might require root permission.</p>

<h2 id="command-line-interface">Command line interface</h2>

<p>After the installation procedure, the following executables are available</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">precice-aste-run</code>: core module interfacing with preCICE</li>
  <li><code class="language-plaintext highlighter-rouge">precice-aste-evaluate</code>: python tool to compute and store data on mesh files</li>
  <li><code class="language-plaintext highlighter-rouge">precice-aste-partition</code>: python tool to partition a single mesh file into several ones for parallel runs</li>
  <li><code class="language-plaintext highlighter-rouge">precice-aste-join</code>: python tool to join several mesh files into a single mesh file for parallel runs.</li>
</ul>

<p>All ASTE tools are executed from the command line and running a particular executable with <code class="language-plaintext highlighter-rouge">--help</code> prints a complete list of available command line arguments and their meaning. There is also an ASTE tutorial <a href="https://precice.org/tutorials-aste-turbine.html">in the preCICE tutorials</a>.</p>

<p>The following subsections explain each part of ASTE in more detail. All ASTE modules have the following three command line arguments in common</p>

<table>
  <thead>
    <tr>
      <th>Flag</th>
      <th>Explanation</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">--mesh</code></td>
      <td>The mesh filename/prefix used as input</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">--data</code></td>
      <td>Name of data array (input or output depending on the module)</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">--output</code></td>
      <td>The mesh filename used to store the output mesh</td>
    </tr>
  </tbody>
</table>

<h3 id="precice-aste-run">precice-aste-run</h3>

<p><code class="language-plaintext highlighter-rouge">precice-aste-run</code> calls the preCICE API and can be executed in serial as well as in parallel (using MPI). As stated in the introduction, there are two different use-cases, one for investigating mappings and one for replacing participants in a coupled scenario (replay mode). Configuring the replay mode in ASTE relies on a <code class="language-plaintext highlighter-rouge">json</code> configuration file (see further below). Therefore, the replay mode takes usually only the <code class="language-plaintext highlighter-rouge">--aste-config &lt;FILE.json&gt;</code> option as a command line argument. All other command line arguments are mostly used for reproducing mappings.</p>

<table>
  <thead>
    <tr>
      <th>Flag</th>
      <th>Explanation</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">--aste-config</code></td>
      <td>ASTE configuration file (only used for replay mode)</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">-v</code></td>
      <td>Enables verbose logging output from preCICE</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">-a</code></td>
      <td>Enables additional logging from all secondary ranks</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">-c</code></td>
      <td>To specify preCICE configuration file (default=<code class="language-plaintext highlighter-rouge">"precice-config.xml"</code>)</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">-p</code></td>
      <td>Participant name, which can take the arguments <code class="language-plaintext highlighter-rouge">A</code> or <code class="language-plaintext highlighter-rouge">B</code></td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">--vector</code></td>
      <td>A bool switch to specify vector data (default=<code class="language-plaintext highlighter-rouge">False</code>)</td>
    </tr>
  </tbody>
</table>

<div class="alert alert-info" role="alert"><i class="fa fa-info-circle"></i> <b>Note:</b> 
The input mesh filename passed with the <code class="language-plaintext highlighter-rouge">--mesh</code> option does not need to coincide with the mesh names defined in the preCICE configuration file.
</div>

<p>For example, mapping the data “dummyData” from a mesh named <code class="language-plaintext highlighter-rouge">fine_mesh.vtk</code> to an output mesh <code class="language-plaintext highlighter-rouge">coarse_mesh.vtk</code> and saving the resulting mesh into the variable “mappedData” on the mesh <code class="language-plaintext highlighter-rouge">mappedMesh</code> would read as follows:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>precice-aste-run <span class="nt">-p</span> A <span class="nt">--mesh</span> fine_mesh <span class="nt">--data</span> <span class="s2">"dummyData"</span>
precice-aste-run <span class="nt">-p</span> B <span class="nt">--mesh</span> coarse_mesh <span class="nt">--data</span> <span class="s2">"mappedData"</span> <span class="nt">--output</span> mappedMesh
</code></pre></div></div>

<p>While the example above executes the mapping in serial, <code class="language-plaintext highlighter-rouge">precice-aste-run</code> can be executed in parallel (using MPI). However, this requires a partitioned mesh (one per parallel rank). In order to decompose a single mesh appropriately, the tools <code class="language-plaintext highlighter-rouge">precice-aste-partition</code> and <code class="language-plaintext highlighter-rouge">precice-aste-join</code> can be used.</p>

<div class="alert alert-success" role="alert"><i class="fa fa-check-square"></i> <b>Tip:</b> 
If you want to reproduce a specific setup of your solvers, you can use the <a href="https://precice.org/configuration-export.html#enabling-exporters">export functionality</a> of preCICE and use the generated meshes directly in <code class="language-plaintext highlighter-rouge">precice-aste-run</code>. If you run your solver in parallel, preCICE exports the decomposed meshes directly, so that no further partitioning is required.
</div>

<h3 id="precice-aste-partition">precice-aste-partition</h3>

<p>Reads a single mesh file (either <code class="language-plaintext highlighter-rouge">.vtk</code> or <code class="language-plaintext highlighter-rouge">.vtu</code> extension) and partitions it into several mesh files. The resulting mesh files are are stored as <code class="language-plaintext highlighter-rouge">output_1.vtu, output_2.vtu, ...</code>. There are three algorithms available in order to execute the partitioning. The <code class="language-plaintext highlighter-rouge">meshfree</code> and <code class="language-plaintext highlighter-rouge">uniform</code> algorithm are rather simple algorithms, which don’t require any mesh topology information. The <code class="language-plaintext highlighter-rouge">topological</code> algorithm relies on the optional dependency METIS and is more powerful, but needs topology information.</p>

<table>
  <thead>
    <tr>
      <th>Flag</th>
      <th>Explanation</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">--directory</code></td>
      <td>Output directory (optional)</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">--numparts</code></td>
      <td>The number of parts to split the mesh into</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">--algorithm</code></td>
      <td>Algorithm used for determining the partitioning (options=”meshfree”, “topology”, “uniform”)</td>
    </tr>
  </tbody>
</table>

<p>Example: to divide a mesh into two parts using the <code class="language-plaintext highlighter-rouge">topological</code> partitioning and store it in a directory:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>precice-aste-partition <span class="nt">--mesh</span> MeshA.vtk <span class="nt">--algorithm</span> topology <span class="nt">--numparts</span> 2 <span class="nt">--output</span> fine_mesh <span class="nt">--directory</span> partitioned_mesh
</code></pre></div></div>

<div class="alert alert-info" role="alert"><i class="fa fa-info-circle"></i> <b>Note:</b> 
METIS is written in C++ and used through a library interface called <code class="language-plaintext highlighter-rouge">libMetisAPI</code>. Please check your ASTE installation in case you face issues with <code class="language-plaintext highlighter-rouge">libMetisAPI</code>.
</div>

<div class="alert alert-info" role="alert"><i class="fa fa-info-circle"></i> <b>Note:</b> 
<code class="language-plaintext highlighter-rouge">precice-aste-partition</code> creates also a <code class="language-plaintext highlighter-rouge">recovery.json</code> file in order to store connectivity information between the individual mesh files. The recovery file is optional and allows to restore the original connectivity information.
</div>

<h3 id="precice-aste-join">precice-aste-join</h3>

<p>Reads a partitioned mesh from a given prefix (looking for <code class="language-plaintext highlighter-rouge">&lt;prefix&gt;_&lt;#filerank&gt;.vtu)</code>) and saves it to a single <code class="language-plaintext highlighter-rouge">.vtk</code> or <code class="language-plaintext highlighter-rouge">.vtu</code> file.
The <code class="language-plaintext highlighter-rouge">-r</code> flag also recovers the connectivity information across several ranks from a mesh, partitioned using <code class="language-plaintext highlighter-rouge">precice-aste-partition</code>.</p>

<table>
  <thead>
    <tr>
      <th>Flag</th>
      <th>Explanation</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">--recovery</code></td>
      <td>The path to the recovery file to fully recover connectivity information across ranks.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">--numparts</code></td>
      <td>The number of parts to read from the input mesh. By default, the entire mesh is read.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">--log</code></td>
      <td>Logging level (default=”INFO”)</td>
    </tr>
  </tbody>
</table>

<p>For example, to join a partitioned mesh using a recovery file:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>precice-aste-join <span class="nt">--mesh</span> partitoned_mesh_directory/partitioned_mesh <span class="nt">--recovery</span> partitioned_directory <span class="nt">--output</span> rejoined_mesh.vtk
</code></pre></div></div>

<h3 id="precice-aste-evaluate">precice-aste-evaluate</h3>

<p>While the previous two tools of ASTE handled the meshes for parallel runs, <code class="language-plaintext highlighter-rouge">precice-aste-evaluate</code> takes care of pre- and postprocessing the actual data on the meshes. <code class="language-plaintext highlighter-rouge">precice-aste-evaluate</code> reads a mesh as either <code class="language-plaintext highlighter-rouge">.vtk</code> or <code class="language-plaintext highlighter-rouge">.vtu</code>, evaluates a function on the mesh given by <code class="language-plaintext highlighter-rouge">--function</code> on it and stores the resulting data on this particular mesh. When using the <code class="language-plaintext highlighter-rouge">--diff</code> flag, the tool can also compute the difference between the data values already stored on the mesh and the function values (usually applied after a mapping). The <code class="language-plaintext highlighter-rouge">diff</code> flag also reports common error metrics such as the l2-norm and minimum or maximum errors on the mesh</p>

<table>
  <thead>
    <tr>
      <th>Flag</th>
      <th>Explanation</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">--function</code></td>
      <td>The function which should be evaluated on the mesh (see below for examples).</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">--list-functions</code></td>
      <td>Prints a list of predefined functions.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">--diff</code></td>
      <td>Calculates the difference between <code class="language-plaintext highlighter-rouge">--diffdata</code> and the given function.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">--diffdata</code></td>
      <td>The name of the data to compute the difference used in <code class="language-plaintext highlighter-rouge">diff</code> mode. If not given, –data is used.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">--log</code></td>
      <td>Logging level (default=”INFO”)</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">--dir</code></td>
      <td>Output directory (optional)</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">--stat</code></td>
      <td>Store statistics of the difference calculation in a separate file called <code class="language-plaintext highlighter-rouge">mesh.stats.json</code></td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">--gradient</code></td>
      <td>Calculate and store gradient data in addition to the given input function on the mesh.</td>
    </tr>
  </tbody>
</table>

<p>The predefined functions are a collection of common interpolation functions, which are usually too cumbersome for the command line:</p>

<table>
  <thead>
    <tr>
      <th>Function</th>
      <th>Explanation</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>franke</td>
      <td>Franke’s function has two Gaussian peaks of different heights, and a smaller dip.</td>
    </tr>
    <tr>
      <td>eggholder</td>
      <td>A function with many local extrema.</td>
    </tr>
    <tr>
      <td>rosenbrock</td>
      <td>A function having a global minimum in a narrow, parabolic valley.</td>
    </tr>
  </tbody>
</table>

<p>All function provided have 3D and 2D variants (which should be applied depending on your mesh topology). Example: calculate and store the Eggholder function on given mesh</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>precice-aste-evaluate <span class="nt">--mesh</span> 3DMesh.vtk <span class="nt">--function</span> <span class="s2">"eggholder3d"</span> <span class="nt">--data</span> <span class="s2">"EggHolder"</span>
precice-aste-evaluate <span class="nt">--mesh</span> 2DMeshonXY.vtk <span class="nt">--function</span> <span class="s2">"eggholder2d(xy)"</span> <span class="nt">--data</span> <span class="s2">"EggHolder"</span>
precice-aste-evaluate <span class="nt">--mesh</span> 2DMeshonXZ.vtk <span class="nt">--function</span> <span class="s2">"eggholder2d(xz)"</span> <span class="nt">--data</span> <span class="s2">"EggHolder"</span>
precice-aste-evaluate <span class="nt">--mesh</span> 2DMeshonYZ.vtk <span class="nt">--function</span> <span class="s2">"eggholder2d(yz)"</span> <span class="nt">--data</span> <span class="s2">"EggHolder"</span>
</code></pre></div></div>

<p>Example: calculating the function “sin(x)+exp(y)” on mesh <code class="language-plaintext highlighter-rouge">MeshA</code> and store the result in “MyFunc”</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>precice-aste-evaluate <span class="nt">--mesh</span> MeshA.vtk <span class="nt">--function</span> <span class="s2">"sin(x)+exp(y)"</span> <span class="nt">--data</span> <span class="s2">"MyFunc"</span>
</code></pre></div></div>

<p>Example: calculating the difference between <code class="language-plaintext highlighter-rouge">MappedData</code> and the analytic function “sin(x)” and storing the resulting difference data in the variable “Error”:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>precice-aste-evaluate <span class="nt">--mesh</span> Mapped.vtk <span class="nt">--function</span> <span class="s2">"sin(x)"</span> <span class="nt">--diff</span> <span class="nt">--diffdata</span> <span class="s2">"MappedData"</span> <span class="nt">--data</span> <span class="s2">"Error"</span>
</code></pre></div></div>

<h3 id="replay-mode">Replay mode</h3>

<p>The replay mode is a bit different from the scenarios we have seen so far. Here, we emulate the behavior of individual participants in a coupled simulation. In order to configure such a scenario, each participant you want to replace needs a configuration file in JSON format with the following attributes:</p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"participant"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Participant-Name"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"startdt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PreCICE mesh dt number (&gt;= 1)"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"meshes"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"mesh"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Mesh name in preCICE config file"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"meshfileprefix"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/path/to/mesh/file/with/prefix/Mesh-Participant-A"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"read-data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"vector"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"Vector dataname in preCICE config which has a read type"</span><span class="p">],</span><span class="w">
        </span><span class="nl">"scalar"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"Scalar dataname in preCICE config which has a read type"</span><span class="p">]</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"write-data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"vector"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"Vector dataname in preCICE config which has a write type"</span><span class="p">],</span><span class="w">
        </span><span class="nl">"scalar"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"Scalar dataname in preCICE config which has a write type"</span><span class="p">]</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nl">"precice-config"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/path/to/precice/config/file/precice-config.xml"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<p>The JSON configuration file is similar to an adapter configuration file. The above configuration file is an example of a participant with one mesh. The user can add as many meshes as required.</p>

<div class="alert alert-warning" role="alert"><i class="fas fa-exclamation-triangle"></i> <b>Important:</b> 
The first entry <code class="language-plaintext highlighter-rouge">mesh</code> refers to the mesh name in the precice configuration file (e.g. <code class="language-plaintext highlighter-rouge">Solid-Mesh</code>), whereas the second argument refers to the actual filenames on your system, which are usually generated by preCICE.
</div>

<h4 id="step-by-step-guide-for-replay-mode">Step-by-step guide for replay mode</h4>

<div class="alert alert-info" role="alert"><i class="fa fa-info-circle"></i> <b>Note:</b> 
The replay mode only supports explicit coupling schemes.
</div>

<h5 id="step-1-setup-export-of-your-original-coupling">Step 1: Setup export of your original coupling</h5>

<p>In a first step we have to generate the required mesh and data files of the participant we want to emulate with ASTE. Therefore, we use the <a href="https://precice.org/configuration-export.html">export functionality</a> of preCICE. After adding the <code class="language-plaintext highlighter-rouge">export</code> tag in the precice configuration file, start the coupled simulation and run as many time-steps as you need.</p>

<p>As an example, we replace the <code class="language-plaintext highlighter-rouge">Fluid</code> participant of the <a href="https://precice.org/tutorials-perpendicular-flap.html"><code class="language-plaintext highlighter-rouge">perpendicular-flap</code></a> tutorial by ASTE. Therefore, we first set the export tag on the fluid participant in the configuration file (see below) and then run the simulation with one of the available fluid solvers (e.g. <code class="language-plaintext highlighter-rouge">fluid-openfoam</code> coupled to <code class="language-plaintext highlighter-rouge">solid-fenics</code>).</p>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    <span class="nt">&lt;participant</span> <span class="na">name=</span><span class="s">"Fluid"</span><span class="nt">&gt;</span>
      ...
      <span class="nt">&lt;export:vtk</span> <span class="na">directory=</span><span class="s">"exported-meshes"</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;/participant&gt;</span>
</code></pre></div></div>

<h5 id="step-2-prepare-aste-and-precice-configuration-files">Step 2: Prepare ASTE and preCICE configuration files</h5>

<p>Prepare an ASTE configuration for the solver you want to replace. See above for the corresponding ASTE configuration format. If your previous simulation used an implicit coupling, make sure to change the configuration to an explicit coupling.</p>

<p>Referring to our example: once the simulation is done, the directory <code class="language-plaintext highlighter-rouge">exported-meshes</code> contains all necessary coupling data in order to use ASTE for the coupled simulation. We create a new directory in the <code class="language-plaintext highlighter-rouge">perpendicular-flap</code> directory called <code class="language-plaintext highlighter-rouge">fluid-aste</code> and move the <code class="language-plaintext highlighter-rouge">exported-meshes</code> into the new directory in order to run ASTE from a separate directory. Since ASTE supports only <code class="language-plaintext highlighter-rouge">explicit</code> coupling schemes, we switch from an <code class="language-plaintext highlighter-rouge">implicit</code> coupling scheme to an <code class="language-plaintext highlighter-rouge">explicit</code> coupling scheme in the preCICE configuration file:</p>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;coupling-scheme:parallel-explicit&gt;</span>
  <span class="nt">&lt;time-window-size</span> <span class="na">value=</span><span class="s">"0.01"</span> <span class="nt">/&gt;</span>
  <span class="nt">&lt;max-time</span> <span class="na">value=</span><span class="s">"5"</span> <span class="nt">/&gt;</span>
  <span class="nt">&lt;participants</span> <span class="na">first=</span><span class="s">"Fluid"</span> <span class="na">second=</span><span class="s">"Solid"</span> <span class="nt">/&gt;</span>
  <span class="nt">&lt;exchange</span> <span class="na">data=</span><span class="s">"Force"</span> <span class="na">mesh=</span><span class="s">"Solid-Mesh"</span> <span class="na">from=</span><span class="s">"Fluid"</span> <span class="na">to=</span><span class="s">"Solid"</span> <span class="nt">/&gt;</span>
  <span class="nt">&lt;exchange</span> <span class="na">data=</span><span class="s">"Displacement"</span> <span class="na">mesh=</span><span class="s">"Solid-Mesh"</span> <span class="na">from=</span><span class="s">"Solid"</span> <span class="na">to=</span><span class="s">"Fluid"</span> <span class="nt">/&gt;</span>
<span class="nt">&lt;/coupling-scheme:parallel-explicit&gt;</span>
</code></pre></div></div>

<p>In addition, we create and configure the <code class="language-plaintext highlighter-rouge">aste-config.json</code> file in the <code class="language-plaintext highlighter-rouge">fluid-aste</code> directory according to the data names in the <code class="language-plaintext highlighter-rouge">precice-config.xml</code> file:</p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"participant"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Fluid"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"startdt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"meshes"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"mesh"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Fluid-Mesh"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"meshfileprefix"</span><span class="p">:</span><span class="w"> </span><span class="s2">"./exported-meshes/Fluid-Mesh-Fluid"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"read-data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"vector"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"Displacement"</span><span class="p">]</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"write-data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"vector"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"Force"</span><span class="p">]</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nl">"precice-config"</span><span class="p">:</span><span class="w"> </span><span class="s2">"../precice-config.xml"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<h5 id="step-3-run-your-solver-and-aste">Step 3: Run your solver and ASTE</h5>

<p>Run your solver and ASTE as usual, e.g., execute <code class="language-plaintext highlighter-rouge">myFluidSolver</code> in one shell and <code class="language-plaintext highlighter-rouge">precice-aste-run</code> in another shell:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>./myFluidSolver &amp;
precice-aste-run <span class="nt">--aste-config</span> solid-config.json
</code></pre></div></div>

<p>ASTE picks up the correct mesh files, extracts the data and passes the data to preCICE.</p>

<p>For our example above, the fluid solver emulation via ASTE can be started by executing</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code> precice-aste-run <span class="nt">--aste-config</span> aste-config.json
</code></pre></div></div>

<p>in the <code class="language-plaintext highlighter-rouge">fluid-aste</code> directory. Simply start any solid solver alongside (e.g. <code class="language-plaintext highlighter-rouge">solid-fenics</code>).</p>


    <div class="tags">
        
    </div>



<!-- Breadcrumb metadata -->

<script type="application/ld+json">
{
"@context": "https://schema.org",
"@type": "BreadcrumbList",
"itemListElement": [









{
  "@type": "ListItem",
  "position": 1,
  "name": "Docs",
  "item": "https://precice.org/docs.html"
}
































































































,{
  "@type": "ListItem",
  "position": 2,
  "name": "Artificial solver testing environment (ASTE)",
  "item": "https://precice.org/tooling-aste.html"
}
























































































































































]}
</script>


</div>


                        <hr class="faded"/>
                        <footer>
	<div class="row text-center">

		 Site last generated: Sep 16, 2024 <br />

		<a class="no-icon" rel="license" href="https://creativecommons.org/licenses/by/4.0/">
			<img alt="Creative Commons License" src="images/licensebutton-by-40_88x31.png" />
		</a>
		<br />
		This work is licensed under a <a rel="license" href="https://creativecommons.org/licenses/by/4.0/">Creative Commons Attribution 4.0 International License</a>.

	</div>

</footer>

                    </div>
                    <!-- /.row -->
                </div>
            <!-- /.container -->
            </div>
        <!-- /#main -->
        </div>
    </main>
</body>


</html>
