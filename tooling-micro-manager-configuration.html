<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">

  <meta name="description" content="Provide a JSON file to configure the Micro Manager.">

<meta name="keywords" content=" tooling, macro-micro, two-scale">
<meta name="theme-color" content="#0A76BB">
<meta name="msapplication-square310x310logo" content="images/icon-310x310.png">

<title>Configure the Micro Manager | preCICE - The Coupling Library</title>
<link rel="alternate" type="application/rss+xml" title="" href="https://precice.org/feed.xml">

<!-- OpenGraph metadata -->
<meta property="og:title" content="Configure the Micro Manager" />
<meta property="og:site_name" content="preCICE.org" />
<meta property="og:type" content="website" />
<meta property="og:url" content="https://precice.org/page.url" />
<meta property="og:image" content="https://precice.org/images/icon.svg" />
<meta property="og:description" content="Provide a JSON file to configure the Micro Manager.">

<!-- Cannonical link -->
<link rel="canonical" href="https://precice.org/tooling-micro-manager-configuration" >

<link rel="shortcut icon" href="images/favicon.ico">
<link rel="stylesheet" href="css/syntax.css">
<link rel="icon" sizes="192x192" href="images/icon.png">
<link rel="apple-touch-icon" sizes="310x310" href="images/icon-310x310.png">

<!-- Font Awesome -->
<link rel="stylesheet" 
href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css">

<!-- Bootstrap -->
<!-- <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous"> -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@3.3.7/dist/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">

<!-- Local CSS -->
<link rel="stylesheet" href="css/modern-business.css">
<link rel="stylesheet" href="css/customstyles.css">
<link rel="stylesheet" href="css/customstyles-precice.css">
<link rel="stylesheet" href="css/boxshadowproperties.css">
<link rel="stylesheet" href="css/bookcover.css">
<!-- Color styles -->
<link rel="stylesheet" href="css/theme-precice.css">
<!-- Styling for landing page -->


<!-- Jquery, Ajax -->
<script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/jquery.cookie@1.4.1/jquery.cookie.min.js"></script>

<!-- Anchor.js -->
<script src="https://cdn.jsdelivr.net/npm/anchor-js@4.2.0/anchor.min.js" integrity="sha256-m1eTvwEHwmsw4+XKF7BshClVJEPwTVycveNl0CS0Mkk=" crossorigin="anonymous"></script>

<!-- Bootstrap JavaScript (requires jquery) -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@3.3.7/dist/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Local JS -->
<script src="js/jquery.navgoco.min.js"></script>
<script src="js/toc.js"></script>
<script src="js/customscripts.js"></script>

<!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
<script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
<![endif]-->

<!-- KaTeX -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css" integrity="sha384-AfEj0r4/OFrOo5t7NnNe46zW/tFgW6x/bCJG8FqQCEo3+Aro6EYUG4+cU+KJWu/X" crossorigin="anonymous">
<!-- The loading of KaTeX is deferred to speed up page rendering -->
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.js" integrity="sha384-g7c+Jr9ZivxKLnZTDUhnkOnsh30B4H0rpLUpJ4jAIKs4fnJI+sEnkvrMWph2EDg4" crossorigin="anonymous"></script>
<!-- To automatically render math in text elements, include the auto-render extension: -->
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/contrib/auto-render.min.js" integrity="sha384-mll67QQFJfxn0IYznZYonOWZ644AWYC+Pt2cHqMaRhXVrursRwvLnLaebdGIlYNa" crossorigin="anonymous"
    onload="renderMathInElement(document.body);"></script>

<!-- Algolia search -->
<script src="https://cdn.jsdelivr.net/npm/instantsearch.js@2.6.0/dist/instantsearch.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/moment@2.20.1/moment.min.js"></script>
<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/instantsearch.js@2.6.0/dist/instantsearch.min.css">
<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/instantsearch.js@2.6.0/dist/instantsearch-theme-algolia.min.css">

<!-- QR code to retrieve printed page -->
<style>
@media print {
    div.post-header:before {
    	content: url('https://chart.googleapis.com/chart?cht=qr&chs=100x100&chl=https://precice.org/tooling-micro-manager-configuration.html&choe=UTF-8');
        margin-top: -25px;
        float: right;
    }
}
</style>

<!-- Plausible Analytics -->
<script async defer data-domain="precice.org" src="https://plausible.io/js/plausible.js"></script>

    <script>
        $(document).ready(function() {
            // Initialize navgoco with default options
            $("#mysidebar").navgoco({
                caretHtml: '',
                accordion: true,
                openClass: 'active', // open
                save: false, // leave false or nav highlighting doesn't work right
                cookie: {
                    name: 'navgoco',
                    expires: false,
                    path: '/'
                },
                slide: {
                    duration: 400,
                    easing: 'swing'
                }
            });

            $("#collapseAll").click(function(e) {
                e.preventDefault();
                $("#mysidebar").navgoco('toggle', false);
            });

            $("#expandAll").click(function(e) {
                e.preventDefault();
                $("#mysidebar").navgoco('toggle', true);
            });

        });

    </script>
    <script>
        $(function () {
            $('[data-toggle="tooltip"]').tooltip()
        })
    </script>
    <script>
        $(document).ready(function() {
            $("#tg-sb-link").click(function() {
                $("#tg-sb-sidebar").toggle();
                $("#tg-sb-content").toggleClass('col-md-9');
                $("#tg-sb-content").toggleClass('col-md-12');
                $("#tg-sb-icon").toggleClass('fa-toggle-on');
                $("#tg-sb-icon").toggleClass('fa-toggle-off');
            });
        });
    </script>
    <script>
        // wrap tables into a div to make them scrollable on small viewports
        // https://getbootstrap.com/docs/3.4/css/#tables-responsive
        $(document).ready(function() {
            $('table').addClass('table');
            $('table').wrap('<div class="table-responsive"></div>');
        });
    </script>
    
</head>
<body>
    <header>
        <a!-- Navigation -->
<nav class="navbar navbar-inverse navbar-fixed-top" aria-label="Main">
    <div class="container topnavlinks">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand no-icon" href="https://precice.org">
            <span class="navbar-brand-icon">
            <img class="navbar-brand-text" src="images/preCICE_text_28px.svg" alt="preCICE"></span>
            </a>
        </div>
        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
            <ul class="nav navbar-nav navbar-right">
                <!-- toggle sidebar button -->
                
                <!-- entries without drop-downs appear here -->

                
                

                
                
                
                
                
                <li><a href="quickstart.html">Quickstart</a></li>
                
                
                
                
                
                <li class="active"><a href="docs.html">Docs</a></li>
                
                
                
                
                
                <li><a href="tutorials.html">Tutorials</a></li>
                
                
                
                
                
                <li><a href="community.html">Community</a></li>
                
                
                
                
                
                <li><a href="https://precice.discourse.group/c/news" target="_blank" rel="noopener">Blog</a></li>
                
                
                
                
                
                <li><a href="about.html">About</a></li>
                
                
                
                <!-- entries with drop-downs appear here -->
                <!-- conditional logic to control which topnav appears for the audience defined in the configuration file.-->
                

                
                <!--comment out this block if you want to hide search-->
                <li>
                    <!--start search-->
                    <div id="search-demo-container">
                        <div id="search-input"></div>
                        <div id="search-results"></div>
                        <script>
const algoliaSearch = instantsearch({
  appId: 'LIT6P0EW26',
  apiKey: '760ed6be3e165d08b4a798ac4aa82fe4',
  indexName: 'jekyll',
  searchFunction: function(helper) {          // hide search result in init query
    var searchResults = $('#search-results');
    if (helper.state.query === '') {
      searchResults.hide();
      return;
    }
    helper.search();
    searchResults.show();
  }
});

const hitTemplate = function(hit) {
  let date = '';
  if (hit.date) {
    date = moment.unix(hit.date).format('MMM D, YYYY');
  }

  let url = `${hit.url}#${hit.anchor}`;

  const title = hit._highlightResult.title.value;

  let breadcrumbs = '';
  if (hit._highlightResult.headings) {
    breadcrumbs = hit._highlightResult.headings.map(match => {
      return `<span class="result-breadcrumb">${match.value}</span>`
    }).join(' > ')
  }

  const content = hit._highlightResult.html.value;

  return `
    <div class="result-item">
    <h2><a class="result-link" href="${url}">${title}</a></h2>
    <a href="${url}" class="result-breadcrumbs">${breadcrumbs}</a>
    <div class="result-snippet">${content}</div>
    </div>
  `;
}

algoliaSearch.addWidget(
  instantsearch.widgets.searchBox({
    container: '#search-input',
    placeholder: 'Search ...',
    poweredBy: true, // This is required if you're on the free Community plan
    magnifier: false,
    autofocus: false,
    searchOnEnterKeyPressOnly: false,
    reset: true
  })
);

algoliaSearch.addWidget(
  instantsearch.widgets.hits({
    container: '#search-results',
    templates: {
      item: hitTemplate
    }
  })
);

algoliaSearch.start();

// Patch the style of the search input bar generated by the above script
// The equivalent CSS is below, however, including <style> in <body> is against the W3C commandments
// Chrome and Firefox had baby called scope, but it didn't make it
// https://stackoverflow.com/questions/2830296/using-style-tags-in-the-body-with-other-html
var elem = document.querySelector('.ais-search-box--powered-by');
elem.style.marginTop = '-15px';
elem.style.paddingRight = '5px';

var elem = document.querySelector('.nav li a.ais-search-box--powered-by-link');
elem.style.padding = '0';
elem.style.backgroundColor = 'transparent';
elem.style.display = "inline-block";

var elem = document.querySelector('.ais-search-box--input');
elem.style.paddingLeft = '10px';
elem.style.borderColor = '#0A76BB';

var elem = document.querySelector('.ais-search-box');
elem.style.padding = '.5em';
elem.style.marginBottom = '0px';
elem.style.marginLeft = '10px';
elem.style.marginTop = '0px';
elem.style.width = '20em';
elem.style.fontSize = '0.8em';
elem.style.height = '50px';
elem.style.boxSizing = 'border-box';

/*<style type="text/css">
.ais-search-box--powered-by {
  margin-top: -15px;
  padding-right: 5px;
}
.nav li a.ais-search-box--powered-by-link {
  padding: 0;
  background-color: transparent;
  display: inline-block;
}
.ais-search-box--input {
  padding-left: 10px;
  border-color: #0A76BB;
}
.ais-search-box {
  padding: .5em;
  margin-bottom: 0px;
  margin-left: 10px;
  margin-top: 0px;
  width: 20em;
  font-size: 0.8em;
  box-sizing: border-box;
  height: 50px;
}
</style>*/

// some hacky JS to hide the search results until we move to docsearch (which is a true autocomplete-type search)
document.addEventListener('mouseup', function(e) {
  var results = document.getElementById('search-results');
  if (!results.contains(e.target)) {
    results.style.display = 'none';
  }
});
document.addEventListener('mouseup', function(e) {
  var input = document.getElementById('search-input');
  var results = document.getElementById('search-results');
  if (input.contains(e.target)) {
    results.style.display = 'block';
  }
});

</script>
                    </div>
                    <!--end search-->
                </li>
                <li>
                    <a class="no-icon nav-external" href="https://precice.discourse.group" target="_blank" data-show-count="false" aria-label="Join the discourse community"><i class="fab fa-discourse"></i></a>
                </li>
                <li>
                    <a class="no-icon nav-external" href="https://github.com/precice" target="_blank" data-show-count="false" aria-label="Star precice/precice on GitHub"><i class="fab fa-github"></i></a>
                </li>
                <li>
                    <!-- rel="me" required by Mastodon for verification -->
                    <a rel="me" class="no-icon nav-external" href="https://fosstodon.org/@precice" target="_blank" data-show-count="false" aria-label="Follow us on Mastodon"><i class="fab fa-mastodon"></i></a>
                </li>
                <li>
                    <a class="no-icon nav-external" href="https://bsky.app/profile/precice.org" target="_blank" data-show-count="false" aria-label="Follow us on Bluesky"><i class="fab fa-bluesky"></i></a>
                </li>
                <li>
                    <a class="no-icon nav-external" href="https://www.youtube.com/c/preCICECoupling/" target="_blank" data-show-count="false" aria-label="Subscribe on Youtube"><i class="fab fa-youtube"></i></a>
                </li>
            </ul>
        </div>
        </div>
        <!-- /.container -->
</nav>

          <!-- News banner -->
          



<aside role="banner" class="background-light banner-container">
  <div class="container">
    <div class="row no-margin">
      <div class="col-lg-12 banner">
        <p class="no-margin">
          Coming up: <a href="precice-workshop-2025.html">preCICE Workshop 2025, Hamburg, Sep 8-12 </a>
        </p>
      </div>
    </div>
  </div>
</aside>



    </header>
    <div class="container" style="margin-bottom:50px">
        
        <div class="row">
          <div class="col-md-3" id="tg-sb-sidebar">
            

<nav aria-label="Documentation">
<ul id="mysidebar" class="nav">
  <li class="sidebarTitle">Documentation </li>
  
  
  
  
  
  
  <!-- Parent menu item has folderitems -->
  <li>
    <a title="Fundamentals" href="#">Fundamentals</a>
    <ul>
      
      
      
      <li><a title="Overview" href="docs.html">Overview</a></li>
      
      
      
      
      
      
      <li><a title="Terminology" href="fundamentals-terminology.html">Terminology</a></li>
      
      
      
      
      
      
      <li><a title="License information" href="fundamentals-license.html">License information</a></li>
      
      
      
      
      
      
      <li><a title="Literature guide" href="fundamentals-literature-guide.html">Literature guide</a></li>
      
      
      
      
      
      
      <li><a title="Roadmap" href="fundamentals-roadmap.html">Roadmap</a></li>
      
      
      
      
      
      
      <li><a title="Previous versions" href="fundamentals-previous-versions.html">Previous versions</a></li>
      
      
      
      
    </ul>
  </li>
  
  
  
  
  
  <!-- Parent menu item has folderitems -->
  <li>
    <a title="Installation" href="#">Installation</a>
    <ul>
      
      
      
      <li><a title="Overview" href="installation-overview.html">Overview</a></li>
      
      
      
      
      
      
      <li><a title="System packages" href="installation-packages.html">System packages</a></li>
      
      
      
      
      
      
      <li><a title="Using Spack" href="installation-spack.html">Using Spack</a></li>
      
      
      
      <li class="subfolders">
        <a title="Building from source" href="#">Building from source</a>
        <ul>
          
          
          
          <li><a title="Preparation" href="installation-source-preparation.html">Preparation</a></li>
          
          
          
          
          
          <li><a title="Dependencies" href="installation-source-dependencies.html">Dependencies</a></li>
          
          
          
          
          
          <li><a title="Configuration" href="installation-source-configuration.html">Configuration</a></li>
          
          
          
          
          
          <li><a title="Building" href="installation-source-building.html">Building</a></li>
          
          
          
          
          
          <li><a title="Testing" href="installation-source-testing.html">Testing</a></li>
          
          
          
          
          
          <li><a title="Installation" href="installation-source-installation.html">Installation</a></li>
          
          
          
          
          
          <li><a title="Finding" href="installation-source-finding.html">Finding</a></li>
          
          
          
          
          
          <li><a title="Advanced" href="installation-source-advanced.html">Advanced</a></li>
          
          
          
          
          
          <li><a title="Troubleshooting" href="installation-source-troubleshooting.html">Troubleshooting</a></li>
          
          
          
          
          
          <li><a title="Notes on CMake" href="installation-source-cmake.html">Notes on CMake</a></li>
          
          
          
        </ul>
      </li>
      
      
      
      
      
      
      <li><a title="Linking to preCICE" href="installation-linking.html">Linking to preCICE</a></li>
      
      
      
      <li class="subfolders">
        <a title="Language bindings" href="#">Language bindings</a>
        <ul>
          
          
          
          <li><a title="Fortran" href="installation-bindings-fortran.html">Fortran</a></li>
          
          
          
          
          
          <li><a title="Python" href="installation-bindings-python.html">Python</a></li>
          
          
          
          
          
          <li><a title="Matlab" href="installation-bindings-matlab.html">Matlab</a></li>
          
          
          
          
          
          <li><a title="Julia" href="installation-bindings-julia.html">Julia</a></li>
          
          
          
          
          
          <li><a title="Rust" href="installation-bindings-rust.html">Rust</a></li>
          
          
          
        </ul>
      </li>
      
      
      
      
      
      
      <li><a title="Special systems" href="installation-special-systems.html">Special systems</a></li>
      
      
      
      
      
      
      <li><a title="Demo Virtual Machine" href="installation-vm.html">Demo Virtual Machine</a></li>
      
      
      
      
      
      
      <li><a title="preCICE distribution" href="installation-distribution.html">preCICE distribution</a></li>
      
      
      
      
    </ul>
  </li>
  
  
  
  
  
  <!-- Parent menu item has folderitems -->
  <li>
    <a title="Configuration" href="#">Configuration</a>
    <ul>
      
      
      
      <li><a title="Overview" href="configuration-overview.html">Overview</a></li>
      
      
      
      <li class="subfolders">
        <a title="Basics" href="#">Basics</a>
        <ul>
          
          
          
          <li><a title="Introduction" href="configuration-introduction.html">Introduction</a></li>
          
          
          
          
          
          <li><a title="Mapping" href="configuration-mapping.html">Mapping</a></li>
          
          
          
          
          
          <li><a title="Communication" href="configuration-communication.html">Communication</a></li>
          
          
          
          
          
          <li><a title="Coupling scheme" href="configuration-coupling.html">Coupling scheme</a></li>
          
          
          
          
          
          <li><a title="Acceleration" href="configuration-acceleration.html">Acceleration</a></li>
          
          
          
          
          
          <li><a title="Mesh exchange example" href="configuration-coupling-mesh-exchange.html">Mesh exchange example</a></li>
          
          
          
        </ul>
      </li>
      
      
      
      <li class="subfolders">
        <a title="Advanced topics" href="#">Advanced topics</a>
        <ul>
          
          
          
          <li><a title="Multi coupling" href="configuration-coupling-multi.html">Multi coupling</a></li>
          
          
          
          
          
          <li><a title="Logging" href="configuration-logging.html">Logging</a></li>
          
          
          
          
          
          <li><a title="Export" href="configuration-export.html">Export</a></li>
          
          
          
          
          
          <li><a title="Action" href="configuration-action.html">Action</a></li>
          
          
          
          
          
          <li><a title="Watchpoint" href="configuration-watchpoint.html">Watchpoint</a></li>
          
          
          
          
          
          <li><a title="Watch integral" href="configuration-watchintegral.html">Watch integral</a></li>
          
          
          
        </ul>
      </li>
      
      
      
      
      
      
      <li><a title="XML reference" href="configuration-xml-reference.html">XML reference</a></li>
      
      
      
      
    </ul>
  </li>
  
  
  
  
  
  <!-- Parent menu item has folderitems -->
  <li>
    <a title="Tooling" href="#">Tooling</a>
    <ul>
      
      
      
      <li><a title="Overview" href="tooling-overview.html">Overview</a></li>
      
      
      
      
      
      
      <li><a title="Artificial solver testing environment (ASTE)" href="tooling-aste.html">Artificial solver testing environment (ASTE)</a></li>
      
      
      
      
      
      
      <li><a title="Built-in tooling" href="tooling-builtin.html">Built-in tooling</a></li>
      
      
      
      
      
      
      <li><a title="Config visualization" href="tooling-config-visualization.html">Config visualization</a></li>
      
      
      
      
      
      
      <li><a title="FMI runner" href="tooling-fmi-runner.html">FMI runner</a></li>
      
      
      
      <li class="subfolders">
        <a title="Micro Manager" href="#">Micro Manager</a>
        <ul>
          
          
          
          <li><a title="Overview" href="tooling-micro-manager-overview.html">Overview</a></li>
          
          
          
          
          
          <li><a title="Get the Micro Manager" href="tooling-micro-manager-installation.html">Get the Micro Manager</a></li>
          
          
          
          
          
          <li><a title="Preparing micro simulation" href="tooling-micro-manager-prepare-micro-simulation.html">Preparing micro simulation</a></li>
          
          
          
          
          
          <li class="active"><a title="Configuration" href="tooling-micro-manager-configuration.html">Configuration</a></li>
          
          
          
          
          
          <li><a title="Running" href="tooling-micro-manager-running.html">Running</a></li>
          
          
          
          
          
          <li><a title="Logging" href="tooling-micro-manager-logging.html">Logging</a></li>
          
          
          
          
          
          <li><a title="Snapshot Computation" href="tooling-micro-manager-snapshot-configuration.html">Snapshot Computation</a></li>
          
          
          
        </ul>
      </li>
      
      
      
      
      
      
      <li><a title="Performance analysis" href="tooling-performance-analysis.html">Performance analysis</a></li>
      
      
      
      
      
      
      <li><a title="RBF shape calculator" href="tooling-rbf-shape.html">RBF shape calculator</a></li>
      
      
      
      
    </ul>
  </li>
  
  
  
  
  
  <!-- Parent menu item has folderitems -->
  <li>
    <a title="Provided adapters" href="#">Provided adapters</a>
    <ul>
      
      
      
      <li><a title="Overview" href="adapters-overview.html">Overview</a></li>
      
      
      
      <li class="subfolders">
        <a title="CalculiX" href="#">CalculiX</a>
        <ul>
          
          
          
          <li><a title="Overview" href="adapter-calculix-overview.html">Overview</a></li>
          
          
          
          
          
          <li><a title="Get CalculiX" href="adapter-calculix-get-calculix.html">Get CalculiX</a></li>
          
          
          
          
          
          <li><a title="Get the adapter" href="adapter-calculix-get-adapter.html">Get the adapter</a></li>
          
          
          
          
          
          <li><a title="Build the adapter with PaStiX" href="adapter-calculix-pastix-build.html">Build the adapter with PaStiX</a></li>
          
          
          
          
          
          <li><a title="Configuration" href="adapter-calculix-config.html">Configuration</a></li>
          
          
          
          
          
          <li><a title="Troubleshooting" href="adapter-calculix-troubleshooting.html">Troubleshooting</a></li>
          
          
          
          
          
          <li><a title="Building on SuperMUC" href="adapter-calculix-supermuc.html">Building on SuperMUC</a></li>
          
          
          
        </ul>
      </li>
      
      
      
      <li class="subfolders">
        <a title="code_aster" href="#">code_aster</a>
        <ul>
          
          
          
          <li><a title="Overview" href="adapter-code_aster.html">Overview</a></li>
          
          
          
        </ul>
      </li>
      
      
      
      <li class="subfolders">
        <a title="deal.II" href="#">deal.II</a>
        <ul>
          
          
          
          <li><a title="Overview" href="adapter-dealii-overview.html">Overview</a></li>
          
          
          
          
          
          <li><a title="Get the adapter" href="adapter-dealii-get.html">Get the adapter</a></li>
          
          
          
          
          
          <li><a title="Configuration" href="adapter-dealii-configure.html">Configuration</a></li>
          
          
          
          
          
          <li><a title="For your own deal.II code" href="adapter-dealii-own-project.html">For your own deal.II code</a></li>
          
          
          
          
          
          <li><a title="Limitations and assumptions" href="adapter-dealii-limitations.html">Limitations and assumptions</a></li>
          
          
          
          
          
          <li><a title="Solver details" href="adapter-dealii-solver-details.html">Solver details</a></li>
          
          
          
          
          
          <li><a title="Coupling Meshes in deal.II" href="adapter-dealii-coupling-meshes.html">Coupling Meshes in deal.II</a></li>
          
          
          
        </ul>
      </li>
      
      
      
      <li class="subfolders">
        <a title="DuMuX" href="#">DuMuX</a>
        <ul>
          
          
          
          <li><a title="Overview" href="adapter-dumux.html">Overview</a></li>
          
          
          
          
          
          <li><a title="Get the adapter" href="adapter-dumux-get.html">Get the adapter</a></li>
          
          
          
          
          
          <li><a title="Use the adapter" href="adapter-dumux-use.html">Use the adapter</a></li>
          
          
          
        </ul>
      </li>
      
      
      
      <li class="subfolders">
        <a title="DUNE" href="#">DUNE</a>
        <ul>
          
          
          
          <li><a title="Overview" href="adapter-dune.html">Overview</a></li>
          
          
          
        </ul>
      </li>
      
      
      
      <li class="subfolders">
        <a title="FEniCS" href="#">FEniCS</a>
        <ul>
          
          
          
          <li><a title="Overview" href="adapter-fenics.html">Overview</a></li>
          
          
          
        </ul>
      </li>
      
      
      
      <li class="subfolders">
        <a title="G+Smo" href="#">G+Smo</a>
        <ul>
          
          
          
          <li><a title="Overview" href="adapter-gismo.html">Overview</a></li>
          
          
          
        </ul>
      </li>
      
      
      
      <li class="subfolders">
        <a title="Nutils" href="#">Nutils</a>
        <ul>
          
          
          
          <li><a title="Overview" href="adapter-nutils.html">Overview</a></li>
          
          
          
        </ul>
      </li>
      
      
      
      <li class="subfolders">
        <a title="OpenFOAM" href="#">OpenFOAM</a>
        <ul>
          
          
          
          <li><a title="Overview" href="adapter-openfoam-overview.html">Overview</a></li>
          
          
          
          
          
          <li><a title="Get the adapter" href="adapter-openfoam-get.html">Get the adapter</a></li>
          
          
          
          
          
          <li><a title="Configuration" href="adapter-openfoam-config.html">Configuration</a></li>
          
          
          
          
          
          <li><a title="Extending" href="adapter-openfoam-extend.html">Extending</a></li>
          
          
          
          
          
          <li><a title="OpenFOAM support" href="adapter-openfoam-support.html">OpenFOAM support</a></li>
          
          
          
        </ul>
      </li>
      
      
      
      <li class="subfolders">
        <a title="SU2" href="#">SU2</a>
        <ul>
          
          
          
          <li><a title="Overview" href="adapter-su2-overview.html">Overview</a></li>
          
          
          
          
          
          <li><a title="Get the adapter" href="adapter-su2-get.html">Get the adapter</a></li>
          
          
          
          
          
          <li><a title="Configuration" href="adapter-su2-configure.html">Configuration</a></li>
          
          
          
        </ul>
      </li>
      
      
      
      
    </ul>
  </li>
  
  
  
  
  
  <!-- Parent menu item has folderitems -->
  <li>
    <a title="Couple your code" href="#">Couple your code</a>
    <ul>
      
      
      
      <li><a title="Overview" href="couple-your-code-overview.html">Overview</a></li>
      
      
      
      
      
      
      <li><a title="Application programming interface" href="couple-your-code-api.html">Application programming interface</a></li>
      
      
      
      <li class="subfolders">
        <a title="Step by step" href="#">Step by step</a>
        <ul>
          
          
          
          <li><a title="Step 1 – Preparation" href="couple-your-code-preparing-your-solver.html">Step 1 – Preparation</a></li>
          
          
          
          
          
          <li><a title="Step 2 – Steering methods" href="couple-your-code-steering-methods.html">Step 2 – Steering methods</a></li>
          
          
          
          
          
          <li><a title="Step 3 – Mesh and data access" href="couple-your-code-mesh-and-data-access.html">Step 3 – Mesh and data access</a></li>
          
          
          
          
          
          <li><a title="Step 4 – Coupling flow" href="couple-your-code-coupling-flow.html">Step 4 – Coupling flow</a></li>
          
          
          
          
          
          <li><a title="Step 5 – Non-matching time step sizes" href="couple-your-code-time-step-sizes.html">Step 5 – Non-matching time step sizes</a></li>
          
          
          
          
          
          <li><a title="Step 6 – Implicit coupling" href="couple-your-code-implicit-coupling.html">Step 6 – Implicit coupling</a></li>
          
          
          
          
          
          <li><a title="Step 7 – Data initialization" href="couple-your-code-initializing-coupling-data.html">Step 7 – Data initialization</a></li>
          
          
          
          
          
          <li><a title="Step 8 – Mesh connectivity" href="couple-your-code-defining-mesh-connectivity.html">Step 8 – Mesh connectivity</a></li>
          
          
          
          
          
          <li><a title="Step 9 – Gradient Data" href="couple-your-code-gradient-data.html">Step 9 – Gradient Data</a></li>
          
          
          
        </ul>
      </li>
      
      
      
      <li class="subfolders">
        <a title="Advanced topics" href="#">Advanced topics</a>
        <ul>
          
          
          
          <li><a title="Adapter software engineering" href="couple-your-code-adapter-software-engineering.html">Adapter software engineering</a></li>
          
          
          
          
          
          <li><a title="Initialization in existing MPI environment" href="couple-your-code-existing-mpi-environment.html">Initialization in existing MPI environment</a></li>
          
          
          
          
          
          <li><a title="Moving or changing meshes" href="couple-your-code-moving-or-changing-meshes.html">Moving or changing meshes</a></li>
          
          
          
          
          
          <li><a title="Just-in-time data mapping" href="couple-your-code-just-in-time-mapping.html">Just-in-time data mapping</a></li>
          
          
          
          
          
          <li><a title="Dealing with FEM meshes" href="couple-your-code-fem-meshes.html">Dealing with FEM meshes</a></li>
          
          
          
          
          
          <li><a title="Dealing with distributed meshes" href="couple-your-code-distributed-meshes.html">Dealing with distributed meshes</a></li>
          
          
          
          
          
          <li><a title="Direct access to received meshes" href="couple-your-code-direct-access.html">Direct access to received meshes</a></li>
          
          
          
          
          
          <li><a title="Time interpolation of coupling data" href="couple-your-code-waveform.html">Time interpolation of coupling data</a></li>
          
          
          
          
          
          <li><a title="Global data" href="couple-your-code-global-data.html">Global data</a></li>
          
          
          
        </ul>
      </li>
      
      
      
      <li class="subfolders">
        <a title="Porting guides for major versions" href="#">Porting guides for major versions</a>
        <ul>
          
          
          
          <li><a title="Porting adapters in general" href="couple-your-code-porting-overview.html">Porting adapters in general</a></li>
          
          
          
          
          
          <li><a title="Porting from 1.x to 2.x" href="couple-your-code-porting-v1-2.html">Porting from 1.x to 2.x</a></li>
          
          
          
          
          
          <li><a title="Porting from 2.x to 3.x" href="couple-your-code-porting-v2-3.html">Porting from 2.x to 3.x</a></li>
          
          
          
        </ul>
      </li>
      
      
      
      
    </ul>
  </li>
  
  
  
  
  
  <!-- Parent menu item has folderitems -->
  <li>
    <a title="Running simulations" href="#">Running simulations</a>
    <ul>
      
      
      
      <li><a title="Overview" href="running-overview.html">Overview</a></li>
      
      
      
      
      
      
      <li><a title="Running locally" href="running-simple.html">Running locally</a></li>
      
      
      
      
      
      
      <li><a title="Distributed systems" href="running-distributed.html">Distributed systems</a></li>
      
      
      
      
      
      
      <li><a title="SLURM sessions" href="running-slurm.html">SLURM sessions</a></li>
      
      
      
      
      
      
      <li><a title="Output files" href="running-output-files.html">Output files</a></li>
      
      
      
      
    </ul>
  </li>
  
  
  
  
  
  <!-- Parent menu item has folderitems -->
  <li>
    <a title="Dev docs" href="#">Dev docs</a>
    <ul>
      
      
      
      <li><a title="Overview" href="dev-docs-overview.html">Overview</a></li>
      
      
      
      
      
      
      <li><a title="Naming" href="dev-docs-naming.html">Naming</a></li>
      
      
      
      
      
      
      <li><a title="Source documentation" href="dev-docs-sourcedocs.html">Source documentation</a></li>
      
      
      
      
      
      
      <li><a title="General coding conventions" href="dev-docs-dev-conventions.html">General coding conventions</a></li>
      
      
      
      
      
      
      <li><a title="Timings in preCICE" href="dev-docs-dev-eventtimings.html">Timings in preCICE</a></li>
      
      
      
      
      
      
      <li><a title="Logging" href="dev-docs-dev-logging.html">Logging</a></li>
      
      
      
      
      
      
      <li><a title="Optimization" href="dev-docs-dev-optimization.html">Optimization</a></li>
      
      
      
      
      
      
      <li><a title="Release workflow" href="dev-docs-dev-release.html">Release workflow</a></li>
      
      
      
      
      
      
      <li><a title="Running and writing tests" href="dev-docs-dev-testing.html">Running and writing tests</a></li>
      
      
      
      
      
      
      <li><a title="System tests" href="dev-docs-system-tests.html">System tests</a></li>
      
      
      
      
      
      
      <li><a title="Tooling" href="dev-docs-dev-tooling.html">Tooling</a></li>
      
      
      
      
      
      
      <li><a title="Release strategy" href="dev-docs-release-strategy.html">Release strategy</a></li>
      
      
      
      
      
      
      <li><a title="Publication strategy" href="dev-docs-publication-strategy.html">Publication strategy</a></li>
      
      
      
      
    </ul>
  </li>
  
  
  
  
  
  <!-- Parent menu item has folderitems -->
  <li>
    <a title="Documentation meta" href="#">Documentation meta</a>
    <ul>
      
      
      
      <li><a title="Overview" href="docs-meta-overview.html">Overview</a></li>
      
      
      
      
      
      
      <li><a title="Content guidelines" href="docs-meta-content-guidelines.html">Content guidelines</a></li>
      
      
      
      
      
      
      <li><a title="Cheatsheet" href="docs-meta-cheatsheet.html">Cheatsheet</a></li>
      
      
      
      
      
      
      <li><a title="Landing page" href="docs-meta-landing-page.html">Landing page</a></li>
      
      
      
      
      
      
      <li><a title="PDF generation" href="docs-meta-publish-to-pdf.html">PDF generation</a></li>
      
      
      
      
      
      
      <li><a title="Common issues" href="docs-meta-common-issues.html">Common issues</a></li>
      
      
      
      
      
      
      <li><a title="Search" href="docs-meta-search.html">Search</a></li>
      
      
      
      
      
      
      <li><a title="Migration guide" href="docs-meta-migration-guide.html">Migration guide</a></li>
      
      
      
      
    </ul>
  </li>
  
  
  
  
  <!-- if you aren't using the accordion, uncomment this block:
  <p class="external">
  <a href="#" id="collapseAll">Collapse All</a> | <a href="#" id="expandAll">Expand All</a>
  </p>
  -->
</ul>
</nav>

<!-- this highlights the active parent class in the navgoco sidebar. this is critical so that the parent expands when you're viewing a page. This must appear below the sidebar code above. Otherwise, if placed inside customscripts.js, the script runs before the sidebar code runs and the class never gets inserted.-->
<script>$("li.active").parents('li').toggleClass("active");</script>

          </div>
          <main class="col-md-9" id="tg-sb-content">
            <div class="post-header">
   <h1 class="post-title-main">Configure the Micro Manager</h1>
</div>



<div class="post-content">

    
    <div class="summary">
        <!-- https://github.com/jekyll/jekyll/issues/3571 -->
        Provide a JSON file to configure the Micro Manager.

    </div>
    

    <div class="row">
        <div class="col-md-9 col-sm-8">
          
          <nav aria-label="table of contents">
          
          
<!-- this handles the automatic toc. use ## for subheads to auto-generate the on-page minitoc. if you use html tags, you must supply an ID for the heading element in order for it to appear in the minitoc. -->
<script>
$( document ).ready(function() {
  // Handler for .ready() called.

    $('#toc').toc({ minimumHeaders: 0, listType: 'ul', showSpeed: 0, headers:  'h2,h3,h4'  });

/* this offset helps account for the space taken up by the floating toolbar. */
$('#toc').on('click', 'a', function() {
  var target = $(this.getAttribute('href'))
    , scroll_target = target.offset().top

  $(window).scrollTop(scroll_target - 10);
  return false
})
  
});
</script>

<div id="toc"></div>

          
          </nav>
          
        </div>

        <div class="col-md-3 col-sm-4">
          
          <aside>
            
                
                
                
                
                <div class="text-right">
                    <a target="_blank" rel="noopener" href="https://github.com/precice/micro-manager/edit/develop/docs/configuration.md" class="btn btn-default githubEditButton" role="button"><i class="fab fa-github fa-lg"></i> Edit me</a>
                </div>
            
            <div class="text-right">
              <small>Updated 05 Sep 25</small>
            </div>
          </aside>
          
        </div>
    </div>

   <div class="alert alert-info" role="alert"><i class="fa fa-info-circle"></i> <b>Note:</b>  In the preCICE XML configuration the Micro Manager is a participant with the name <code class="language-plaintext highlighter-rouge">Micro-Manager</code>. </div>

<p>The Micro Manager is configured with a JSON file. An example configuration file looks like</p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"micro_file_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"micro_solver"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"coupling_params"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"precice_config_file_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"precice-config.xml"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"macro_mesh_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"macro-mesh"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"read_data_names"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"temperature"</span><span class="p">,</span><span class="w"> </span><span class="s2">"heat-flux"</span><span class="p">],</span><span class="w">
        </span><span class="nl">"write_data_names"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"porosity"</span><span class="p">,</span><span class="w"> </span><span class="s2">"conductivity"</span><span class="p">]</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"simulation_params"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"macro_domain_bounds"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mf">0.0</span><span class="p">,</span><span class="w"> </span><span class="mf">1.0</span><span class="p">,</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w"> </span><span class="mf">1.0</span><span class="p">,</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w"> </span><span class="mf">1.0</span><span class="p">],</span><span class="w">
        </span><span class="nl">"micro_dt"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.0</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"diagnostics"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"output_micro_sim_solve_time"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<p>This example configuration file is in <a href="https://github.com/precice/micro-manager/tree/develop/examples/micro-manager-config.json"><code class="language-plaintext highlighter-rouge">examples/micro-manager-config.json</code></a>.</p>

<h2 id="micro-manager-configuration">Micro Manager Configuration</h2>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">micro_file_name</code></td>
      <td>Path to the file containing the Python importable micro simulation class. If the file is not in the working directory, give the relative path from the directory where the Micro Manager is executed.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">output_directory</code></td>
      <td>Path to output directory for logging and performance metrics. Directory is created if not existing already.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">memory_usage_output_type</code></td>
      <td>Set to either <code class="language-plaintext highlighter-rouge">local</code>, <code class="language-plaintext highlighter-rouge">global</code>, or <code class="language-plaintext highlighter-rouge">all</code>. <code class="language-plaintext highlighter-rouge">local</code> outputs rank-wise peak memory usage. <code class="language-plaintext highlighter-rouge">global</code> outputs global averaged peak memory usage. <code class="language-plaintext highlighter-rouge">all</code> outputs both local and global levels. All output is to a CSV file with the peak memory usage (RSS) in every time window, in MBs.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">memory_usage_output_n</code></td>
      <td>Frequency of output of memory usage (integer which is number of time windows).</td>
    </tr>
  </tbody>
</table>

<p>Apart from the base settings, there are three main sections in the configuration file, <a href="#coupling-parameters">coupling parameters</a>, <a href="#simulation-parameters">simulation parameters</a>, and <a href="#diagnostics">diagnostics</a>.</p>

<h2 id="coupling-parameters">Coupling Parameters</h2>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">precice_config_file_name</code></td>
      <td>Path to the preCICE XML configuration file from the current working directory.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">macro_mesh_name</code></td>
      <td>Name of the macro mesh as stated in the preCICE configuration.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">read_data_names</code></td>
      <td>A list with the names of the data to be read from preCICE.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">write_data_names</code></td>
      <td>A list with the names of the data to be written to preCICE.</td>
    </tr>
  </tbody>
</table>

<h2 id="simulation-parameters">Simulation Parameters</h2>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">macro_domain_bounds</code></td>
      <td>Minimum and maximum bounds of the macro-domain, having the format <code class="language-plaintext highlighter-rouge">[xmin, xmax, ymin, ymax, zmin, zmax]</code> in 3D and <code class="language-plaintext highlighter-rouge">[xmin, xmax, ymin, ymax]</code> in 2D.</td>
    </tr>
    <tr>
      <td>Domain decomposition parameters</td>
      <td>See section on <a href="#domain-decomposition">domain decomposition</a>. But default, the Micro Manager assumes that it will be run in serial.</td>
    </tr>
    <tr>
      <td>Adaptivity parameters</td>
      <td>See section on <a href="#adaptivity">adaptivity</a>. By default, adaptivity is disabled.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">micro_dt</code></td>
      <td>Initial time window size (dt) of the micro simulation.</td>
    </tr>
  </tbody>
</table>

<h2 id="diagnostics">Diagnostics</h2>

<table>
  <tbody>
    <tr>
      <td>Parameter</td>
      <td>Description</td>
    </tr>
    <tr>
      <td>—</td>
      <td>—H</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">data_from_micro_sims</code></td>
      <td>A Python dictionary with the names of the data from the micro simulation to be written to VTK files as keys and <code class="language-plaintext highlighter-rouge">"scalar"</code> or <code class="language-plaintext highlighter-rouge">"vector"</code> as values.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">output_micro_sim_solve_time</code></td>
      <td>If <code class="language-plaintext highlighter-rouge">true</code>, the Micro Manager writes the wall clock time of the <code class="language-plaintext highlighter-rouge">solve()</code> function of each micro simulation.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">micro_output_n</code></td>
      <td>Frequency of calling the optional output functionality of the micro simulation in terms of number of time steps. If not given, <code class="language-plaintext highlighter-rouge">micro_sim.output()</code> is called every time step.</td>
    </tr>
  </tbody>
</table>

<h3 id="adding-diagnostics-in-the-precice-xml-configuration">Adding diagnostics in the preCICE XML configuration</h3>

<p>If the parameter <code class="language-plaintext highlighter-rouge">data_from_micro_sims</code> is set, the data to be output needs to be written to preCICE, and an export tag needs to be added for the participant <code class="language-plaintext highlighter-rouge">Micro-Manager</code>. For example, let us consider the case that the data <code class="language-plaintext highlighter-rouge">porosity</code>, which is a scalar, needs to be exported. Unless already defined, define the data, and then write it to preCICE. Also, add an export tag. The resulting entries in the XML configuration file look like:</p>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;data:scalar</span> <span class="na">name=</span><span class="s">"porosity"</span><span class="nt">/&gt;</span>

<span class="nt">&lt;participant</span> <span class="na">name=</span><span class="s">"Micro-Manager"</span><span class="nt">&gt;</span>
  ...
  <span class="nt">&lt;write-data</span> <span class="na">name=</span><span class="s">"porosity"</span> <span class="na">mesh=</span><span class="s">"macro-mesh"</span><span class="nt">/&gt;</span>
  <span class="nt">&lt;export:vtu</span> <span class="na">directory=</span><span class="s">"Micro-Manager-output"</span> <span class="na">every-n-time-windows=</span><span class="s">"5"</span><span class="nt">/&gt;</span>
<span class="nt">&lt;/participant&gt;</span>
</code></pre></div></div>

<p>If <code class="language-plaintext highlighter-rouge">output_micro_sim_solve_time</code> is set, add similar entries for the data <code class="language-plaintext highlighter-rouge">solve_cpu_time</code> in the following way:</p>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;data:scalar</span> <span class="na">name=</span><span class="s">"solve_cpu_time"</span><span class="nt">/&gt;</span>

<span class="nt">&lt;participant</span> <span class="na">name=</span><span class="s">"Micro-Manager"</span><span class="nt">&gt;</span>
  ...
  <span class="nt">&lt;write-data</span> <span class="na">name=</span><span class="s">"solve_cpu_time"</span> <span class="na">mesh=</span><span class="s">"macro-mesh"</span><span class="nt">/&gt;</span>
  <span class="nt">&lt;export:vtu</span> <span class="na">directory=</span><span class="s">"Micro-Manager-output"</span> <span class="na">every-n-time-windows=</span><span class="s">"5"</span><span class="nt">/&gt;</span>
<span class="nt">&lt;/participant&gt;</span>
</code></pre></div></div>

<h2 id="domain-decomposition">Domain decomposition</h2>

<p>The Micro Manager can be run in parallel. For a parallel run, set the desired partitions in each axis by setting the <code class="language-plaintext highlighter-rouge">decomposition</code> parameter. For example, if the domain is 3D and the decomposition needs to be two partitions in x, one partition in y, and sixteen partitions in for z, the setting is</p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nl">"simulation_params"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"macro_domain_bounds"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">],</span><span class="w">
    </span><span class="nl">"decomposition"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">16</span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<p>For a 2D domain, only two values need to be set for <code class="language-plaintext highlighter-rouge">decomposition</code>. The total number of partitions provided in the <code class="language-plaintext highlighter-rouge">decomposition</code> should be the same as the number of processors provided in the <code class="language-plaintext highlighter-rouge">mpirun</code>/<code class="language-plaintext highlighter-rouge">mpiexec</code> command.</p>

<h2 id="adaptivity">Adaptivity</h2>

<p>The Micro Manager can adaptively control micro simulations. The adaptivity strategy is taken from</p>

<ol>
  <li>
    <p>Redeker, Magnus &amp; Eck, Christof. (2013). A fast and accurate adaptive solution strategy for two-scale models with continuous inter-scale dependencies. Journal of Computational Physics. 240. 268-283. <a href="https://doi.org/10.1016/j.jcp.2012.12.025">10.1016/j.jcp.2012.12.025</a>.</p>
  </li>
  <li>
    <p>Bastidas, Manuela &amp; Bringedal, Carina &amp; Pop, Iuliu Sorin. (2021). A two-scale iterative scheme for a phase-field model for precipitation and dissolution in porous media. Applied Mathematics and Computation. 396. 125933. <a href="https://doi.org/10.1016/j.amc.2020.125933">10.1016/j.amc.2020.125933</a>.</p>
  </li>
</ol>

<p>All the adaptivity parameters are chosen from the second publication.</p>

<p>To turn on adaptivity, set <code class="language-plaintext highlighter-rouge">"adaptivity": true</code> in <code class="language-plaintext highlighter-rouge">simulation_params</code>. Then under <code class="language-plaintext highlighter-rouge">adaptivity_settings</code> set the following variables:</p>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">type</code></td>
      <td>Set to either <code class="language-plaintext highlighter-rouge">local</code> or <code class="language-plaintext highlighter-rouge">global</code>. The type of adaptivity matters when the Micro Manager is run in parallel. <code class="language-plaintext highlighter-rouge">local</code> means comparing micro simulations within a local partitioned domain for similarity. <code class="language-plaintext highlighter-rouge">global</code> means comparing micro simulations from all partitions, so over the entire domain.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">data</code></td>
      <td>List of names of data which are to be used to calculate if micro-simulations are similar or not. For example <code class="language-plaintext highlighter-rouge">["temperature", "porosity"]</code>.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">adaptivity_every_n_time_windows</code></td>
      <td>Frequency of adaptivity computation (integer which is number of time windows).</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">output_type</code></td>
      <td>Set to either <code class="language-plaintext highlighter-rouge">local</code>, <code class="language-plaintext highlighter-rouge">global</code>, or <code class="language-plaintext highlighter-rouge">all</code>. <code class="language-plaintext highlighter-rouge">local</code> outputs rank-wise adaptivity metrics. <code class="language-plaintext highlighter-rouge">global</code> outputs global averaged metrics. <code class="language-plaintext highlighter-rouge">all</code> outputs both local and global metrics.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">output_n</code></td>
      <td>Frequency of output of adaptivity metrics (integer which is number of time windows).</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">history_param</code></td>
      <td>History parameter \(\Lambda\), set as \(\Lambda &gt;= 0\).</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">coarsening_constant</code></td>
      <td>Coarsening constant \(C_c\), set as \(0 =&lt; C_c &lt; 1\).</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">refining_constant</code></td>
      <td>Refining constant \(C_r\), set as \(0 =&lt; C_r &lt; 1\).</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">every_implicit_iteration</code></td>
      <td>If <code class="language-plaintext highlighter-rouge">true</code>, adaptivity is calculated in every implicit iteration. <br /> If False, adaptivity is calculated once at the start of the time window and then reused in every implicit time iteration. Default <code class="language-plaintext highlighter-rouge">false</code>.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">similarity_measure</code></td>
      <td>Similarity measure to be used for adaptivity. Can be either <code class="language-plaintext highlighter-rouge">L1</code>, <code class="language-plaintext highlighter-rouge">L2</code>, <code class="language-plaintext highlighter-rouge">L1rel</code> or <code class="language-plaintext highlighter-rouge">L2rel</code>. By default, <code class="language-plaintext highlighter-rouge">L1</code> is used. The <code class="language-plaintext highlighter-rouge">rel</code> variants calculate the respective relative norms. This parameter is <em>optional</em>. Default <code class="language-plaintext highlighter-rouge">L1</code>.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">lazy_initialization</code></td>
      <td>Set to <code class="language-plaintext highlighter-rouge">true</code> to lazily create and initialize micro simulations. If selected, micro simulation objects are created only when the micro simulation is activated for the first time. Default: <code class="language-plaintext highlighter-rouge">false</code>.</td>
    </tr>
  </tbody>
</table>

<p>The primary tuning parameters for adaptivity are the history parameter \(\Lambda\), the coarsening constant \(C_c\), and the refining constant \(C_r\). Their effects can be interpreted as:</p>

<ul>
  <li>Higher values of the history parameter \(\Lambda\) imply lower significance of the similarity measures in the previous timestep on the similarity measure and thus adaptivity state in the current timestep.</li>
  <li>Higher values of the coarsening constant \(C_c\) imply that more active simulations from the previous timestep will remain active in the current timestep.</li>
  <li>Higher values of the refining constant \(C_r\) imply that less inactive points from the previous timestep will become active in the current timestep.</li>
</ul>

<p>Example of adaptivity configuration is</p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nl">"simulation_params"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"macro_domain_bounds"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">],</span><span class="w">
    </span><span class="nl">"adaptivity"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"adaptivity_settings"</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"local"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"temperature"</span><span class="p">,</span><span class="w"> </span><span class="s2">"porosity"</span><span class="p">],</span><span class="w">
        </span><span class="nl">"history_param"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.5</span><span class="p">,</span><span class="w">
        </span><span class="nl">"coarsening_constant"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.3</span><span class="p">,</span><span class="w">
        </span><span class="nl">"refining_constant"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.4</span><span class="p">,</span><span class="w">
        </span><span class="nl">"every_implicit_iteration"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nl">"lazy_initialization"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<h3 id="adding-adaptivity-in-the-precice-xml-configuration">Adding adaptivity in the preCICE XML configuration</h3>

<p>If adaptivity is used, the Micro Manager will attempt to write two scalar data per micro simulation to preCICE, called <code class="language-plaintext highlighter-rouge">active_state</code> and <code class="language-plaintext highlighter-rouge">active_steps</code>.</p>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">active_state</code></td>
      <td><code class="language-plaintext highlighter-rouge">1</code> if the micro simulation is active in the time window, and <code class="language-plaintext highlighter-rouge">0</code> if inactive.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">active_steps</code></td>
      <td>Summation of <code class="language-plaintext highlighter-rouge">active_state</code> up to the current time window.</td>
    </tr>
  </tbody>
</table>

<p>The Micro Manager uses the output functionality of preCICE, hence these data sets need to be manually added to the preCICE configuration file. In the mesh and the participant Micro-Manager add the following lines:</p>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;data:scalar</span> <span class="na">name=</span><span class="s">"active_state"</span><span class="nt">/&gt;</span>
<span class="nt">&lt;data:scalar</span> <span class="na">name=</span><span class="s">"active_steps"</span><span class="nt">/&gt;</span>

<span class="nt">&lt;mesh</span> <span class="na">name=</span><span class="s">"macro-mesh"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;use-data</span> <span class="na">name=</span><span class="s">"active_state"</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;use-data</span> <span class="na">name=</span><span class="s">"active_steps"</span><span class="nt">/&gt;</span>
<span class="nt">&lt;/mesh&gt;</span>

<span class="nt">&lt;participant</span> <span class="na">name=</span><span class="s">"Micro-Manager"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;write-data</span> <span class="na">name=</span><span class="s">"active_state"</span> <span class="na">mesh=</span><span class="s">"macro-mesh"</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;write-data</span> <span class="na">name=</span><span class="s">"active_steps"</span> <span class="na">mesh=</span><span class="s">"macro-mesh"</span><span class="nt">/&gt;</span>
<span class="nt">&lt;/participant&gt;</span>
</code></pre></div></div>

<h2 id="interpolate-a-crashed-micro-simulation">Interpolate a crashed micro simulation</h2>

<p>If the optional dependency <code class="language-plaintext highlighter-rouge">sklearn</code> is installed, the Micro Manager will derive the output of a crashed micro simulation by interpolating outputs from similar simulations. To enable this, set
<code class="language-plaintext highlighter-rouge">"interpolate_crash": true</code> in the <code class="language-plaintext highlighter-rouge">simulation_params</code> section of the configuration file.</p>

<p>For more details on the interpolation see the <a href="tooling-micro-manager-running.html#what-happens-when-a-micro-simulation-crashes">crash handling documentation</a>.</p>

<h2 id="next-step">Next step</h2>

<p>After creating a configuration file you are ready to <a href="tooling-micro-manager-running.html">run the Micro Manager</a>.</p>


    



<!-- Breadcrumb metadata -->

<script type="application/ld+json">
{
"@context": "https://schema.org",
"@type": "BreadcrumbList",
"itemListElement": [









{
  "@type": "ListItem",
  "position": 1,
  "name": "Docs",
  "item": "https://precice.org/docs.html"
}













































































































































































































































































]}
</script>


</div>


          </main>
        </div>
        
    </div>
    <footer class="background-dark">
  <div class="container">
    <div class="row equal">
      <div class="col-md-4">
        <nav aria-label="Footer left">
          <ul class="list-unstyled">
            <li>
              <a href="fundamentals-literature-guide.html">Cite preCICE</a>
            </li>
            <li>
              <a href="community-contribute-to-precice.html">Contribute</a>
            </li>
            <li>
              <a href="community-support-precice.html">Get support</a>
            </li>
            <li>
              <a href="community-training.html">Get training</a>
            </li>
          </ul>
        </nav>
      </div>

      <div class="col-md-4">
        <nav aria-label="Footer right">
          <ul class="list-unstyled">
            <li>
              <a class="no-icon" href="https://precice.discourse.group">Forum on Discourse</a>
            </li>
            <li>
              <a class="no-icon" href="https://github.com/precice">preCICE on GitHub</a>
            </li>
            <li>
              <a href="fundamentals-license.html">License</a>
            </li>
            <li>
              <a href="about.html">Impressum / Legal</a>
            </li>
          </ul>
        </nav>
      </div>

      <div class="col-md-4">
        <p>
        <a class="no-icon" rel="license" href="https://creativecommons.org/licenses/by/4.0/">
          <img alt="This work is licensed under a Creative Commons Attribution 4.0 International License." src="images/licensebutton-by-40_88x31.png" />
        </a>
        </p>
        <p>
        Page last updated: Sep 5, 2025<br>
        Site last updated: Sep 5, 2025
        </p>
      </div>
    </div>
  </div>
</footer>

</body>


</html>
